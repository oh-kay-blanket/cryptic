{"version":3,"file":"component---src-pages-clues-clues-json-clid-js-41fdc177b00290709473.js","mappings":"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","sources":["webpack://learn-cryptic/./src/components/bottom/Keyboard.js","webpack://learn-cryptic/./src/assets/img/backspace.svg","webpack://learn-cryptic/./src/components/bottom/Celebration.js","webpack://learn-cryptic/./src/utils/bottom/getMessage.js","webpack://learn-cryptic/./src/components/bottom/Message.js","webpack://learn-cryptic/./src/utils/bottom/prepBottom.js","webpack://learn-cryptic/./src/components/Bottom.js","webpack://learn-cryptic/./src/components/Tooltip.js","webpack://learn-cryptic/./src/utils/clue/getTargetLetters.js","webpack://learn-cryptic/./src/utils/clue/removeSpecialChar.js","webpack://learn-cryptic/./src/utils/clue/fixLetters.js","webpack://learn-cryptic/./src/utils/clue/addLetters.js","webpack://learn-cryptic/./src/utils/clue/usePrepClue.js","webpack://learn-cryptic/./src/utils/clue/underlineLetters.js","webpack://learn-cryptic/./src/utils/clue/highlightLetters.js","webpack://learn-cryptic/./src/utils/clue/changeColor.js","webpack://learn-cryptic/./src/utils/clue/moveLetters.js","webpack://learn-cryptic/./src/utils/clue/handleHint.js","webpack://learn-cryptic/./src/utils/clue/useManageClue.js","webpack://learn-cryptic/./src/pages/clues/{cluesJson.clid}.js","webpack://learn-cryptic/./src/assets/img/eye--closed.svg","webpack://learn-cryptic/./src/assets/img/eye--open.svg","webpack://learn-cryptic/./src/assets/img/logo-short.png","webpack://learn-cryptic/./src/components/TopBar.js","webpack://learn-cryptic/./src/components/ScrollToTop.js","webpack://learn-cryptic/./src/components/layout.js","webpack://learn-cryptic/./src/components/bottom/Button.js","webpack://learn-cryptic/./src/components/bottom/ButtonContainer.js","webpack://learn-cryptic/./src/assets/img/difficulty/4.svg","webpack://learn-cryptic/./src/assets/img/difficulty/1.svg","webpack://learn-cryptic/./src/assets/img/difficulty/2.svg","webpack://learn-cryptic/./src/assets/img/difficulty/3.svg"],"sourcesContent":["import React, { useEffect } from 'react'\n\nimport backspace from '../../assets/img/backspace.svg'\n\nconst Keyboard = ({ handleInput, onEnter, canCheckAnswer }) => {\n\t// handle keyboard hardware press\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e) => {\n\t\t\tif (/^[a-zA-Z]$/.test(e.key)) {\n\t\t\t\thandleInput(e.key.toUpperCase())\n\t\t\t} else if (e.key === 'Backspace' || e.key === 'Delete') {\n\t\t\t\thandleInput('del')\n\t\t\t} else if (e.key === 'Enter' && canCheckAnswer) {\n\t\t\t\tonEnter()\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDown)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyDown)\n\t\t}\n\t}, [handleInput, onEnter, canCheckAnswer])\n\n\treturn (\n\t\t<div className='lc-container keyboard'>\n\t\t\t<div className='k-row k-row-1'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Q')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Q'\n\t\t\t\t>\n\t\t\t\t\t<span>Q</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('W')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-W'\n\t\t\t\t>\n\t\t\t\t\t<span>W</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('E')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-E'\n\t\t\t\t>\n\t\t\t\t\t<span>E</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('R')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-R'\n\t\t\t\t>\n\t\t\t\t\t<span>R</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('T')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-T'\n\t\t\t\t>\n\t\t\t\t\t<span>T</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Y')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Y'\n\t\t\t\t>\n\t\t\t\t\t<span>Y</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('U')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-U'\n\t\t\t\t>\n\t\t\t\t\t<span>U</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('I')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-I'\n\t\t\t\t>\n\t\t\t\t\t<span>I</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('O')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-O'\n\t\t\t\t>\n\t\t\t\t\t<span>O</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('P')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-P'\n\t\t\t\t>\n\t\t\t\t\t<span>P</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='k-row k-row-2'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('A')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-A'\n\t\t\t\t>\n\t\t\t\t\t<span>A</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('S')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-S'\n\t\t\t\t>\n\t\t\t\t\t<span>S</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('D')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-D'\n\t\t\t\t>\n\t\t\t\t\t<span>D</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('F')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-F'\n\t\t\t\t>\n\t\t\t\t\t<span>F</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('G')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-G'\n\t\t\t\t>\n\t\t\t\t\t<span>G</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('H')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-H'\n\t\t\t\t>\n\t\t\t\t\t<span>H</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('J')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-J'\n\t\t\t\t>\n\t\t\t\t\t<span>J</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('K')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-K'\n\t\t\t\t>\n\t\t\t\t\t<span>K</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('L')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-L'\n\t\t\t\t>\n\t\t\t\t\t<span>L</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='k-row k-row-3'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={canCheckAnswer ? onEnter : undefined}\n\t\t\t\t\tid='enter-key'\n\t\t\t\t\tclassName={canCheckAnswer\n\t\t\t\t\t\t? 'bg-[#FFCBAB] dark:!bg-[rgb(120,70,45)] dark:!text-neutral-100 hover:bg-[#f5c1a1] hover:dark:!bg-[rgb(110,65,42)]'\n\t\t\t\t\t\t: 'bg-neutral-200 dark:!bg-neutral-700 text-neutral-400 dark:!text-neutral-500 cursor-default'}\n\t\t\t\t\tdata-testid='keyboard-ENTER'\n\t\t\t\t>\n\t\t\t\t\t<span>Enter</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Z')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Z'\n\t\t\t\t>\n\t\t\t\t\t<span>Z</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('X')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-X'\n\t\t\t\t>\n\t\t\t\t\t<span>X</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('C')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-C'\n\t\t\t\t>\n\t\t\t\t\t<span>C</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('V')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-V'\n\t\t\t\t>\n\t\t\t\t\t<span>V</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('B')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-B'\n\t\t\t\t>\n\t\t\t\t\t<span>B</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('N')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-N'\n\t\t\t\t>\n\t\t\t\t\t<span>N</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('M')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-M'\n\t\t\t\t>\n\t\t\t\t\t<span>M</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('del')}\n\t\t\t\t\tid='backspace'\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-DEL'\n\t\t\t\t>\n\t\t\t\t\t<img src={backspace} alt='backspace' className='dark:invert' />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Keyboard\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNSAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjA0NzQ0IDNIMjEuNjg5QzIzLjI0ODYgMyAyNC41IDQuMjMxMTcgMjQuNSA1LjczNjg0VjE4LjI2MzJDMjQuNSAxOS43Njg4IDIzLjI0ODYgMjEgMjEuNjg5IDIxSDguMDQ3NDRDNy4wOTk1MyAyMSA2LjI5MjA0IDIwLjUzNiA1Ljc2MzcxIDE5Ljc3MDZMMC41IDExLjk5NTVMNS43Njg1OCA0LjIxMzI5QzYuMjkwNTEgMy40NTczIDcuMDk5MjIgMyA4LjA0NzQ0IDNaTTIyLjUxNjggNS43MzY2M0MyMi41MTY4IDUuMjY0OTQgMjIuMTQwMyA0Ljg5NDUzIDIxLjY5MDEgNC44OTQ1M0g4LjA0ODUxQzcuNzk5ODUgNC44OTQ1MyA3LjU5NjM2IDUuMDA5NiA3LjQzMTEzIDUuMjQ4ODVMMi44NjM4MiAxMS45OTUzTDIuNTE1NjIgMTEuNDgxVjEyLjUwOTZMMi44NjM4MiAxMS45OTUzTDcuNDI2MjYgMTguNzM0NkM3LjYwMDI1IDE4Ljk4NjYgNy44MDYyNSAxOS4xMDUgOC4wNDg1MSAxOS4xMDVIMjEuNjkwMUMyMi4xNDAzIDE5LjEwNSAyMi41MTY4IDE4LjczNDYgMjIuNTE2OCAxOC4yNjI5VjUuNzM2NjNaIiBmaWxsPSIjNDc0NzQ3Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDQ2NSAxNS4wMTI4TDE3LjczNDQgMTYuMjYzOUwxNC40MSAxMy4wOTQxTDExLjA4NTYgMTYuMjYzOUw5Ljc3MzQ0IDE1LjAxMjhMMTMuMDk3OCAxMS44NDI5TDkuNzczNDQgOC42NzMwM0wxMS4wODU2IDcuNDIxODhMMTQuNDEgMTAuNTkxOEwxNy43MzQ0IDcuNDIxODhMMTkuMDQ2NSA4LjY3MzAzTDE1LjcyMjEgMTEuODQyOUwxOS4wNDY1IDE1LjAxMjhaIiBmaWxsPSIjNDc0NzQ3Ii8+Cjwvc3ZnPgo=\"","import React, { useEffect, useState } from 'react'\n\nconst Celebration = () => {\n\tconst [particles, setParticles] = useState([])\n\tconst [origin, setOrigin] = useState({ x: 50, y: 50 })\n\n\tuseEffect(() => {\n\t\t// Find the solution box and get its center position\n\t\tconst solBox = document.getElementById('solSectionRef')\n\t\tif (solBox) {\n\t\t\tconst rect = solBox.getBoundingClientRect()\n\t\t\tconst centerX = ((rect.left + rect.width / 2) / window.innerWidth) * 100\n\t\t\tconst centerY = ((rect.top + rect.height / 2) / window.innerHeight) * 100\n\t\t\tsetOrigin({ x: centerX, y: centerY })\n\t\t}\n\n\t\t// Generate particles that explode outward then fall with gravity\n\t\t// Scale down velocity on wider screens so desktop matches mobile feel\n\t\tconst viewportWidth = window.innerWidth\n\t\tconst velocityScale = viewportWidth > 768 ? 600 / viewportWidth : 1\n\n\t\tconst newParticles = Array.from({ length: 45 }, (_, i) => {\n\t\t\t// Split into left side (180-260) and right side (280-360) to avoid straight up\n\t\t\tconst side = Math.random() > 0.5 ? 'left' : 'right'\n\t\t\tconst angle = side === 'left'\n\t\t\t\t? 180 + Math.random() * 80   // 180-260 degrees\n\t\t\t\t: 280 + Math.random() * 80   // 280-360 degrees\n\t\t\tconst angleRad = angle * (Math.PI / 180)\n\n\t\t\t// Random velocity (how far the initial burst goes)\n\t\t\tconst velocity = (15 + Math.random() * 25) * velocityScale\n\n\t\t\t// Horizontal movement\n\t\t\tconst endX = Math.cos(angleRad) * velocity * 1.0\n\n\t\t\t// Initial vertical burst - reduce on mobile since viewport height is smaller\n\t\t\tconst verticalScale = viewportWidth > 768 ? 1.0 : 0.7\n\t\t\tconst burstY = Math.sin(angleRad) * velocity * verticalScale\n\n\t\t\t// Gravity pulls everything down - adds to final Y position\n\t\t\tconst gravity = 40 + Math.random() * 30\n\n\t\t\treturn {\n\t\t\t\tid: i,\n\t\t\t\tendX,\n\t\t\t\tburstY,\n\t\t\t\tgravity,\n\t\t\t\tdelay: Math.random() * 0.08,\n\t\t\t\tduration: 1.0 + Math.random() * 0.4,\n\t\t\t\tsize: 5 + Math.random() * 6,\n\t\t\t\tcolor: Math.random() > 0.5 ? 'primary' : 'secondary',\n\t\t\t\trotation: 45 + Math.random() * 90, // ~1/4 turn (45-135 degrees)\n\t\t\t}\n\t\t})\n\t\tsetParticles(newParticles)\n\n\t\t// Cleanup after animation completes\n\t\tconst timeout = setTimeout(() => {\n\t\t\tsetParticles([])\n\t\t}, 2000)\n\n\t\treturn () => clearTimeout(timeout)\n\t}, [])\n\n\tif (particles.length === 0) return null\n\n\treturn (\n\t\t<div className=\"celebration\" aria-hidden=\"true\">\n\t\t\t{particles.map((particle) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={particle.id}\n\t\t\t\t\tclassName={`celebration-particle celebration-particle--${particle.color}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tleft: `${origin.x}%`,\n\t\t\t\t\t\ttop: `${origin.y}%`,\n\t\t\t\t\t\t'--end-x': `${particle.endX}vw`,\n\t\t\t\t\t\t'--burst-y': `${particle.burstY}vh`,\n\t\t\t\t\t\t'--gravity': `${particle.gravity}vh`,\n\t\t\t\t\t\t'--rotation': `${particle.rotation}deg`,\n\t\t\t\t\t\tanimationDelay: `${particle.delay}s`,\n\t\t\t\t\t\tanimationDuration: `${particle.duration}s`,\n\t\t\t\t\t\twidth: `${particle.size}px`,\n\t\t\t\t\t\theight: `${particle.size}px`,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nexport default Celebration\n","import React from \"react\"\n\nconst getMessage = hint => {\n\n\tconst vowels = ['a', 'e', 'i', 'o', 'u']\n\n\tconst aAn = hint.category && hint.category.slice(0, 1).includes(vowels) ? 'a' : 'an'\n\n\tswitch(hint.type) {\n\t\tcase 'definition':\n\t\t\tif (hint.value.length === 1) { // Single definition\n\t\t\t\treturn <><strong>{hint.value[0].toUpperCase()}</strong> is the definition</>\n\t\t\t} else { // Double definition\n\t\t\t\treturn <>Both <strong>{hint.value[0].toUpperCase()}</strong> and <strong>{hint.value[1].toUpperCase()}</strong> are definitions for the solution</>\n\t\t\t}\n\t\tcase 'indicator':\n\t\t\tswitch(hint.category) {\n\t\t\t\tcase 'anagram':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates an anagram of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'ag-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is an anagram of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'charade':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'container':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a container</>\n\t\t\t\tcase 'deletion':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a deletion</>\n\t\t\t\tcase 'delete even':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates deleting the even letters from <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'delete odd':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates deleting the odd letters from <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'direct':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> is used</>\n\t\t\t\tcase 'hidden word':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a hidden word in <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'hw-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is hidden within <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'homophone':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a homophone</>\n\t\t\t\tcase 'hp-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is a homophone of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'initialism':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates the beginning of one or more words</>\n\t\t\t\tcase 'letter bank':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a letter bank</>\n\t\t\t\tcase 'lb-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[0].toUpperCase()}</strong> is a letter bank for <strong>{hint.end.value[1].toUpperCase()}</strong></>\n\t\t\t\tcase 'particle':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'reversal':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a reversal of <strong>{hint.end.value[0].toUpperCase()}</strong>, making <strong>{hint.end.value[1].toUpperCase()}</strong></>\n\t\t\t\tcase 'synonym':\n\t\t\t\t\treturn <>Find a synonym for <strong>{hint.value.toUpperCase()}</strong></>\n\t\t\t\tcase 'sy-2':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'spoonerism':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is a spoonerism of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'dd-2':\n\t\t\t\tcase 'in-2':\n\t\t\t\t\treturn\n\t\t\t\tdefault:\n\t\t\t\t\t// One end point\n\t\t\t\t\tif (hint.end.value.length === 1) {\n\t\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> incicates {aAn} {hint.category} at <strong>{hint.end.value[0].toUpperCase()}</strong></> \n\t\t\t\t\t\t\n\t\t\t\t\t\t// Two end points\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> incicates {aAn} {hint.category} at <strong>{hint.end.value[0].toUpperCase()}</strong> and <strong>{hint.end.value[1].toUpperCase()}</strong></> \n\t\t\t\t\t}\n\t\t\t}\n\t\tdefault: \n\t\t\treturn hint.value\n\t}\n}\n\nexport default getMessage","import React, { useRef } from 'react'\nimport ButtonContainer from './ButtonContainer'\nimport Celebration from './Celebration'\n\nimport getMessage from '../../utils/bottom/getMessage'\n\nconst Message = ({\n\tactiveClue,\n\tnextHint,\n\tinput,\n\tcheckAns,\n\tisCorrectAns,\n\tisSolution,\n\treturnLearn,\n\tbuttons,\n\tshowLogic,\n\tsetShowLogic,\n}) => {\n\tconst msgContainer = useRef()\n\n\t// figure out which text to display\n\tconst message = checkAns ? (\n\t\tisCorrectAns ? (\n\t\t\t<div data-testid='message-success'>\n\t\t\t\t<strong>{input.join('').toUpperCase()}</strong> is correct.\n\t\t\t\t<br />\n\t\t\t\tNice work!\n\t\t\t</div>\n\t\t) : (\n\t\t\t<div data-testid='message-error'>\n\t\t\t\t<strong>{input.join('').toUpperCase()}</strong> is not the correct\n\t\t\t\tanswer.\n\t\t\t</div>\n\t\t)\n\t) : (\n\t\tgetMessage(activeClue.hints[nextHint])\n\t)\n\n\tconst explainer = activeClue.hints[nextHint].explainer\n\t\t? activeClue.hints[nextHint].explainer\n\t\t: false\n\n\t// Prep message button\n\tlet messageButton\n\n\tconst checkIsTodayClue = (activeClue) => {\n\t\tconst date1 = new Date(activeClue.release)\n\t\tconst date2 = new Date()\n\n\t\t// Strip time part by setting hours, minutes, seconds, and milliseconds to zero\n\t\tconst d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate())\n\t\tconst d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate())\n\n\t\treturn d1.getTime() === d2.getTime()\n\t}\n\tconst isTodayClue = checkIsTodayClue(activeClue)\n\n\t// Completed with returnLearn == true\n\tif (isSolution && returnLearn) {\n\t\tmessageButton = [buttons.returnLearn]\n\n\t\t// Completed with returnLearn == true\n\t} else if (checkAns && isCorrectAns && returnLearn) {\n\t\tmessageButton = [buttons.endClueShowLogic, buttons.returnLearn]\n\n\t\t// Completed with guess and finished logic && today's clue\n\t} else if (isSolution && showLogic && isTodayClue) {\n\t\tmessageButton = [buttons.shareScore, buttons.endClueHint]\n\n\t\t// Completed with guess and finished logic &&  is not today's clue\n\t} else if (isSolution && showLogic && !isTodayClue) {\n\t\tmessageButton = [buttons.endClueHint]\n\n\t\t// Completed with guess, more clues && today's clue\n\t} else if (checkAns && isCorrectAns && isTodayClue) {\n\t\tmessageButton = [\n\t\t\tbuttons.endClueShowLogic,\n\t\t\tbuttons.shareScore,\n\t\t\tbuttons.endClueGuess,\n\t\t]\n\n\t\t// Completed with guess, more clues && is not today's clue\n\t} else if (checkAns && isCorrectAns && !isTodayClue) {\n\t\tmessageButton = [buttons.endClueShowLogic, buttons.endClueGuess]\n\n\t\t// Continue showing logic\n\t} else if (showLogic && !activeClue.hints[nextHint].reveals) {\n\t\tmessageButton = [buttons.nextLogic]\n\n\t\t// Completed with hint, more clues\n\t} else if (isSolution && !showLogic) {\n\t\tmessageButton = [buttons.endClueHint]\n\n\t\t// Not complete, continue with game\n\t} else {\n\t\tmessageButton = [buttons.continue]\n\t}\n\n\t// style message\n\tlet messageStyle = isSolution\n\t\t? 'solution'\n\t\t: checkAns && isCorrectAns\n\t\t? 'is-correct-ans'\n\t\t: 'continue'\n\n\treturn (\n\t\t<div className={`message ${messageStyle} bg-white dark:!bg-neutral-800 dark:!text-neutral-100`} ref={msgContainer}>\n\t\t\t{checkAns && isCorrectAns && <Celebration />}\n\t\t\t{message && (\n\t\t\t\t<div className={'message-copy lc-container'}>\n\t\t\t\t\t{message}\n\t\t\t\t\t{explainer && (!checkAns || isCorrectAns) && <div className={'explainer'}>{explainer}</div>}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<ButtonContainer\n\t\t\t\tbtnArr={messageButton}\n\t\t\t\tisSolution={isSolution}\n\t\t\t\tstack={isSolution}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Message\n","import React from 'react'\nimport { isTodayClue } from '../dateHelpers'\n\nconst prepBottom = (\n\tactiveClue,\n\tnextHint,\n\tsetNextHint,\n\tinput,\n\tsetInput,\n\tsetShowMessage,\n\tstats,\n\tsetStats,\n\taddCompletedClue,\n\treturnLearn,\n\tsetReturnLearn,\n\tcheckAns,\n\tsetCheckAns,\n\tshowLogic,\n\tsetShowLogic,\n\trevealedLetters = []\n) => {\n\t// Check if this is today's clue\n\tconst isTodaysClue = () => isTodayClue(activeClue)\n\tconst shareScore = async () => {\n\t\tconst date = new Date(activeClue.release) // or your clue.date\n\t\tconst dateFormatted = new Intl.DateTimeFormat('en-US', {\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\tyear: 'numeric',\n\t\t}).format(date)\n\n\t\tconst perfectEmojis = [\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t]\n\n\t\tconst emoji =\n\t\t\tstats.guesses === 1 && stats.hints === 0\n\t\t\t\t? perfectEmojis[Math.floor(Math.random() * perfectEmojis.length)]\n\t\t\t\t: ''\n\n\t\tconst scoreText = `Learn Cryptic #${\n\t\t\tactiveClue.clid\n\t\t}\\n${dateFormatted}\\n${emoji} ${stats.guesses} ${\n\t\t\tstats.guesses === 1 ? 'guess' : 'guesses'\n\t\t}, ${stats.hints} ${\n\t\t\tstats.hints === 1 ? 'hint' : 'hints'\n\t\t}\\nlearncryptic.com`.trim()\n\n\t\tconst isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n\n\t\tif (isMobile && navigator.share) {\n\t\t\ttry {\n\t\t\t\tawait navigator.share({\n\t\t\t\t\ttitle: 'Clue Score',\n\t\t\t\t\ttext: scoreText,\n\t\t\t\t})\n\t\t\t\tconsole.log('Shared successfully')\n\t\t\t} catch (err) {\n\t\t\t\tif (err.name !== 'AbortError') {\n\t\t\t\t\tconsole.error('Share failed:', err)\n\t\t\t\t\talert('Could not share your score.')\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Desktop or fallback\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(scoreText)\n\t\t\t\talert('Score copied to clipboard!')\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Clipboard copy failed:', err)\n\t\t\t\talert('Could not copy your score.')\n\t\t\t}\n\t\t}\n\t}\n\n\t// buttons\n\tconst buttons = {\n\t\tshowHint: {\n\t\t\tname: 'Show hint',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetStats((prevStats) => ({ ...prevStats, hints: prevStats.hints + 1 }))\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\trevealSolution: {\n\t\t\tname: 'Reveal solution',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// addCompletedClue(activeClue, stats, 'h')\n\t\t\t\t// setStats((prevStats) => ({ ...prevStats, hints: prevStats.hints + 1 }))\n\t\t\t\tsetShowMessage(true)\n\t\t\t\tsetInput([])\n\t\t\t},\n\t\t},\n\t\tcheckAnswer: {\n\t\t\tname: 'Check answer',\n\t\t\tstyle: 'primary',\n\t\t\tonClick: function () {\n\t\t\t\tlet correct =\n\t\t\t\t\tinput.join('').toUpperCase() ===\n\t\t\t\t\tactiveClue.solution.arr.join('').toUpperCase()\n\t\t\t\tif (correct) {\n\t\t\t\t\taddCompletedClue(activeClue, stats, 'g')\n\t\t\t\t\tsetStats((prevStats) => ({\n\t\t\t\t\t\t...prevStats,\n\t\t\t\t\t\tguesses: prevStats.guesses + 1,\n\t\t\t\t\t}))\n\t\t\t\t\t// Show source when correctly guessed\n\t\t\t\t\tif (activeClue.source?.ref?.current) {\n\t\t\t\t\t\tactiveClue.source.ref.current.classList.add('show')\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetStats((prevStats) => ({\n\t\t\t\t\t\t...prevStats,\n\t\t\t\t\t\tguesses: prevStats.guesses + 1,\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\tsetCheckAns(true)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\tcontinue: {\n\t\t\tname: 'Continue',\n\t\t\tstyle: 'primary',\n\t\t\tonClick: function () {\n\t\t\t\tsetShowMessage(false)\n\t\t\t\t!checkAns && setNextHint(nextHint + 1)\n\t\t\t\tsetCheckAns(false)\n\t\t\t},\n\t\t},\n\t\tendClueHint: {\n\t\t\tpath: '/clues',\n\t\t\tname: 'Play more',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t\tendClueGuess: {\n\t\t\tpath: '/clues',\n\t\t\tname: 'Play more',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t\tshareScore: {\n\t\t\tname: `Share score`,\n\t\t\timg: (\n\t\t\t\t<svg\n\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\twidth='24'\n\t\t\t\t\theight='24'\n\t\t\t\t\tfill='none'\n\t\t\t\t\tstroke='currentColor'\n\t\t\t\t\tstrokeWidth='2'\n\t\t\t\t\tstrokeLinecap='round'\n\t\t\t\t\tstrokeLinejoin='round'\n\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t>\n\t\t\t\t\t<circle cx='6' cy='12' r='2' />\n\t\t\t\t\t<circle cx='18' cy='6' r='2' />\n\t\t\t\t\t<circle cx='18' cy='18' r='2' />\n\t\t\t\t\t<line x1='8' y1='11' x2='16' y2='7' />\n\t\t\t\t\t<line x1='8' y1='13' x2='16' y2='17' />\n\t\t\t\t</svg>\n\t\t\t),\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tshareScore()\n\t\t\t},\n\t\t},\n\t\tendClueShowLogic: {\n\t\t\tname: 'Show logic',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// Skip first part of two-step hints (synonym) in show logic mode\n\t\t\t\tlet startHint = nextHint\n\t\t\t\tif (activeClue.hints[startHint]?.category === 'synonym') {\n\t\t\t\t\tstartHint++\n\t\t\t\t}\n\t\t\t\tsetNextHint(startHint)\n\t\t\t\tsetShowLogic(true)\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\tnextLogic: {\n\t\t\tname: 'Next',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// Skip first part of two-step hints (synonym) in show logic mode\n\t\t\t\tlet next = nextHint + 1\n\t\t\t\tif (activeClue.hints[next]?.category === 'synonym') {\n\t\t\t\t\tnext++\n\t\t\t\t}\n\t\t\t\tsetNextHint(next)\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\treturnLearn: {\n\t\t\tpath: `/learn/${returnLearn}#next`,\n\t\t\tname: 'Return',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t}\n\n\tlet btnArr = [buttons.showHint]\n\n\tif (activeClue.hints[nextHint].reveals) {\n\t\t// Only show \"Reveal Solution\" if it's not today's clue\n\t\tif (!isTodaysClue()) {\n\t\t\tbtnArr = [buttons.revealSolution]\n\t\t} else {\n\t\t\t// For today's clue, show no buttons when it would reveal solution\n\t\t\tbtnArr = []\n\t\t}\n\t}\n\n\t// Check if all positions are filled (either typed or revealed)\n\tconst allPositionsFilled = activeClue.solution.arr.every((_, index) => {\n\t\treturn input[index] && input[index] !== ''\n\t})\n\n\tconst isCorrectAns =\n\t\tinput.join('').toUpperCase() ===\n\t\tactiveClue.solution.arr.join('').toUpperCase()\n\tconst isSolution = activeClue.hints.length - 1 === nextHint && !checkAns\n\n\treturn { buttons, btnArr, checkAns, setCheckAns, isSolution, isCorrectAns, allPositionsFilled, checkAnswer: buttons.checkAnswer.onClick }\n}\n\nexport default prepBottom\n","import React from 'react'\n\nimport ButtonContainer from './bottom/ButtonContainer'\nimport Keyboard from './bottom/Keyboard'\nimport Message from './bottom/Message'\n\nimport prepBottom from '../utils/bottom/prepBottom'\n\nconst Bottom = ({ activeClue, showMessage, setShowMessage, nextHint, setNextHint, addCompletedClue, handleInput, input, setInput, stats, setStats, returnLearn, setReturnLearn, checkAns, setCheckAns, showLogic, setShowLogic, revealedLetters }) => {\n\n\tlet { buttons, btnArr, isSolution, isCorrectAns, allPositionsFilled, checkAnswer } = prepBottom(activeClue, nextHint, setNextHint, input, setInput, setShowMessage, stats, setStats, addCompletedClue, returnLearn, setReturnLearn, checkAns, setCheckAns, showLogic, setShowLogic, revealedLetters)\n\n\treturn(\n\t\t<div className='bottom bg-white dark:!bg-neutral-800 border-t border-neutral-200 dark:!border-neutral-700'>\t\t\t\n\t\t\t{showMessage ? \n\t\t\t\t<Message\n\t\t\t\t\tsetShowMessage={setShowMessage}\n\t\t\t\t\tactiveClue={activeClue}\n\t\t\t\t\tnextHint={nextHint}\n\t\t\t\t\tsetNextHint={setNextHint}\n\t\t\t\t\tinput={input}\n\t\t\t\t\tcheckAns={checkAns}\n\t\t\t\t\tsetCheckAns={setCheckAns}\n\t\t\t\t\taddCompletedClue={addCompletedClue}\n\t\t\t\t\tisCorrectAns={isCorrectAns}\n\t\t\t\t\tisSolution={isSolution}\n\t\t\t\t\treturnLearn={returnLearn}\n\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\tshowLogic={showLogic}\n\t\t\t\t\tsetShowLogic={setShowLogic}\n\t\t\t\t/> :\n\t\t\t\t<>\n\t\t\t\t\t<ButtonContainer\n\t\t\t\t\t\tbtnArr={btnArr}\n\t\t\t\t\t/>\n\t\t\t\t\t<Keyboard\n\t\t\t\t\t\thandleInput={handleInput}\n\t\t\t\t\t\tonEnter={checkAnswer}\n\t\t\t\t\t\tcanCheckAnswer={allPositionsFilled}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default Bottom","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\n\nconst Tooltip = ({ text }) => {\n\tconst data = useStaticQuery(graphql`\n\t\tquery AllTypeQuery {\n\t\t\tallTypeJson {\n\t\t\t\tnodes {\n\t\t\t\t\ttype\n\t\t\t\t\tdescription\n\t\t\t\t\texample\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`)\n\n\tconst matchType = data.allTypeJson.nodes.find(\n\t\t(type) => type.type.toUpperCase() === text.toUpperCase()\n\t)\n\n\treturn (\n\t\t<div role='tooltip' className='tooltip' id={text}>\n\t\t\t<p className='tooltip-description'>{matchType.description}</p>\n\t\t\t<p className='tooltip-example'>{matchType.example}</p>\n\t\t</div>\n\t)\n}\n\nexport default Tooltip\n","// returns an array of refs for clue letter that match with a string or array of strings of target(s)\nconst getTargetLetters = (letters, activeClue, hint) => {\n\t// If an array of values\n\tif (Array.isArray(letters)) {\n\t\t// Get each index in clue of val\n\t\tconst targetLettersStartArr = letters.map((val) => {\n\t\t\treturn activeClue.clue.value.indexOf(val)\n\t\t})\n\n\t\t// Special case where ref is not part of clue\n\t\tif (\n\t\t\t(hint.category === 'particle' ||\n\t\t\t\thint.category === 'container' ||\n\t\t\t\thint.category === 'anagram' ||\n\t\t\t\thint.category === 'letter bank') &&\n\t\t\tArray.isArray(targetLettersStartArr) &&\n\t\t\ttargetLettersStartArr[0] === -1\n\t\t) {\n\t\t\tactiveClue.hints.find((h) => {\n\t\t\t\tif (!!h.end && h.end.value && h.end.value[0] === letters[0]) {\n\t\t\t\t\treturn h.addLetters.ref.current\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\n\t\t\t// Ref found in clue\n\t\t} else {\n\t\t\t// get each range of clue refs\n\t\t\tlet clueLetters = []\n\t\t\ttargetLettersStartArr.forEach((targetLettersStart, index) => {\n\t\t\t\tclueLetters.push(\n\t\t\t\t\t...activeClue.clue.ref.current.slice(\n\t\t\t\t\t\ttargetLettersStart,\n\t\t\t\t\t\ttargetLettersStart + letters[index].length\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t})\n\t\t\treturn clueLetters\n\t\t}\n\n\t\t// Just a string value\n\t} else {\n\t\tlet targetLettersStart, strSlice\n\n\t\tif (hint.category === 'direct') {\n\t\t\t// remove definition\n\t\t\tlet freshValue = activeClue.clue.value.replace(\n\t\t\t\tactiveClue.hints[0].value,\n\t\t\t\t''\n\t\t\t)\n\t\t\tlet freshValueIndex = activeClue.clue.value.indexOf(freshValue)\n\n\t\t\ttargetLettersStart = freshValue.indexOf(` ${letters}`) + 1\n\n\t\t\tstrSlice = activeClue.clue.ref.current.slice(\n\t\t\t\tfreshValueIndex + targetLettersStart,\n\t\t\t\tfreshValueIndex + targetLettersStart + letters.length\n\t\t\t)\n\t\t} else {\n\t\t\ttargetLettersStart = activeClue.clue.value.indexOf(letters)\n\t\t\tstrSlice = activeClue.clue.ref.current.slice(\n\t\t\t\ttargetLettersStart,\n\t\t\t\ttargetLettersStart + letters.length\n\t\t\t)\n\t\t}\n\n\t\treturn strSlice\n\t}\n}\n\nexport default getTargetLetters\n","// remove special characters from ref\n\nconst removeSpecial = (charArr) => {\n\t\n\tconst specialChar = [' ', ',', '-', '_', ':', ':', '\"', \"'\", '?', '!', '.', ';', '(', ')', '[', ']', '{', '}', '/', '\\\\']\n\n\n\tif (typeof(charArr) === 'string') {\n\n\t\tcharArr = charArr.split('')\n\t\treturn charArr.filter(char => !specialChar.includes(char)).join('')\n\n\t} else {\n\n\t\treturn charArr.filter(ref => {\n\t\t\t\n\t\t\t// remove any special characters from ref area\n\t\t\treturn !specialChar.includes(ref.current.textContent)\n\t\t})\n\t}\n}\n\nexport default removeSpecial","import removeSpecial from './removeSpecialChar'\n\n// locks letters into a fixed position based on their initial render position\nconst fixLetters = (activeClue, hint, index) => {\n\n\t// FN to position letters //\n\tconst positionLetters = (\n\t\thint,\n\t\tanchor = hint.fix.anchor,\n\t\tmoving = hint.fix.moving\n\t) => {\n\t\t// Keep track of used anchors\n\t\tlet anchorUsed = []\n\n\t\tmoving.forEach((ref) => {\n\t\t\tref.current.style.position = 'fixed'\n\t\t})\n\n\t\tmoving.forEach((ref) => {\n\t\t\t// Matching letter in anchor\n\t\t\tconst currentDestLetter = anchor.find((destLetter, index) => {\n\t\t\t\t// Remove anchor to not reuse\n\t\t\t\tif (hint.fix.removeAnchor) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\t\tref.current.textContent.toUpperCase() &&\n\t\t\t\t\t\t!anchorUsed.includes(index)\n\t\t\t\t\t) {\n\t\t\t\t\t\tanchorUsed.push(index)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Skip positioning if no matching letter found (e.g., special characters)\n\t\t\tif (!currentDestLetter) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Add position attributes\n\t\t\tref.current.style.top = !!currentDestLetter.current.style.top\n\t\t\t\t? `${Math.round(Number(currentDestLetter.current.style.top.slice(0, -2)))}px`\n\t\t\t\t: `${Math.round(currentDestLetter.current.getBoundingClientRect().top + 1)}px`\n\t\t\tref.current.style.left = !!currentDestLetter.current.style.left\n\t\t\t\t? `${Math.round(Number(currentDestLetter.current.style.left.slice(0, -2)))}px`\n\t\t\t\t: `${Math.round(currentDestLetter.current.getBoundingClientRect().left)}px`\n\t\t})\n\n\t\t// Letters are already set to fixed position above\n\n\t\t// Add position attributes\n\t\thint.fix.endPt.forEach((ref) => {\n\t\t\tlet left = Math.round(ref.current.getBoundingClientRect().left)\n\t\t\tlet top = Math.round(ref.current.getBoundingClientRect().top + 2)\n\t\t\tref.current.style.left = `${left}px`\n\t\t\tref.current.style.top = `${top}px`\n\t\t\treturn [left, top]\n\t\t})\n\n\t\t// Fix after adding pos attributes\n\t\t// hint.fix.endPt.forEach( ref => { ref.current.style.position = 'fixed' })\n\t}\n\n\t//\n\t// LOGIC //\n\t//\n\thint.fix = { removeAnchor: true }\n\tconst prevHint = activeClue.hints[index - 1]\n\n\tswitch (hint.category) {\n\t\tcase 'ag-2':\n\t\t\thint.fix.anchor = prevHint.addLetters.ref.current // anchor letters\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[0].length\n\t\t\t) // moving letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[0].length\n\t\t\t) // staging area letters\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'lb-2':\n\t\t\thint.fix.anchor = prevHint.addLetters.ref.current // anchor letters\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[1].length\n\t\t\t) // moving letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[1].length\n\t\t\t) // staging area letters\n\t\t\thint.fix.removeAnchor = false\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'hw-2':\n\t\t\tlet solIndex = removeSpecial(prevHint.end.value[0].toUpperCase()).indexOf(\n\t\t\t\tremoveSpecial(hint.end.value[1].toUpperCase())\n\t\t\t)\n\t\t\thint.fix.anchor = removeSpecial(prevHint.addLetters.ref.current).slice(\n\t\t\t\tsolIndex,\n\t\t\t\tsolIndex + removeSpecial(activeClue.solution.value).length\n\t\t\t) // anchor letters\n\t\t\thint.fix.moving = removeSpecial(hint.addLetters.ref.current) // moving letters\n\n\t\t\thint.fix.endPt = []\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'container':\n\t\t\t// Get valid previous hints\n\t\t\tlet prevHints = activeClue.hints.slice(1, index)\n\t\t\tconst skipCats = ['anagram', 'hidden word', 'letter bank', 'homophone', 'synonym']\n\t\t\tprevHints = prevHints.filter(\n\t\t\t\t(prevHint) => !skipCats.includes(prevHint.category)\n\t\t\t)\n\n\t\t\tprevHints.forEach((prevHint) => {\n\t\t\t\t// Get cell to use for split word\n\t\t\t\tswitch (prevHint.category) {\n\t\t\t\t\tcase 'direct':\n\t\t\t\t\t\tprevHint.rightValue = prevHint.value.toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'reversal':\n\t\t\t\t\tcase 'ag-2':\n\t\t\t\t\t\tprevHint.rightValue = prevHint.end.value[1].toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tprevHint.rightValue = prevHint.end.value[0].toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Find word that is split\n\t\t\tconst possibleSplits = [[0,2], [0,3], [1,3], [0,4], [1,4], [2,4]]\n\n\t\t\t// Look at past hints to find which word is split\n\t\t\thint.fix.anchorSplit = prevHints.find((h, hIndex) => {\n\n\t\t\t\t// Try to find a match\n\t\t\t\tconst foundSplit = possibleSplits.find(split => (h.rightValue === [hint.end.value[split[0]], hint.end.value[split[1]]].join('').toUpperCase() && !!hint.end.value[split[1]]));\n\n\t\t\t\t// If match found, add the data\n\t\t\t\tconst logSplits = foundSplit => {\n\t\t\t\t\thint.fix.joinIndex = [foundSplit[0], foundSplit[1]]\n\t\t\t\t\thint.fix.indicatorMatch = hIndex\n\t\t\t\t\treturn h.rightValue === [hint.end.value[foundSplit[0]], hint.end.value[foundSplit[1]]].join('').toUpperCase()\n\t\t\t\t};\n\n\t\t\t\treturn foundSplit ? logSplits(foundSplit) : false;\n\t\t\t})\n\n\t\t\t// Remove duplicate letter from special hints\n\t\t\tconst doubleHints = ['ag-2', 'lb-2', 'reversal']\n\t\t\tif (doubleHints.includes(hint.fix.anchorSplit.category)) {\n\t\t\t\thint.fix.anchorSplit =\n\t\t\t\t\thint.fix.anchorSplit.addLetters.ref.current.slice(\n\t\t\t\t\t\thint.fix.anchorSplit.end.value[0].length\n\t\t\t\t\t)\n\t\t\t} else {\n\t\t\t\thint.fix.anchorSplit = hint.fix.anchorSplit.addLetters.ref.current\n\t\t\t}\n\n\t\t\t// anchorOther - get other anchor words //\n\t\t\t// Remove splitword from prevHints\n\t\t\tprevHints.splice(hint.fix.indicatorMatch, 1)\n\n\t\t\t// find non-split words/letters\n\t\t\thint.fix.anchorOther = []\n\t\t\thint.end.value.forEach((hend, index) => {\n\t\t\t\tif (!hint.fix.joinIndex.includes(index)) {\n\t\t\t\t\tconst thisMatch = prevHints.find(\n\t\t\t\t\t\t(h, hIndex) => h.rightValue.toUpperCase() === hend.toUpperCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (thisMatch && doubleHints.includes(thisMatch.category)) {\n\t\t\t\t\t\thint.fix.anchorOther.push(\n\t\t\t\t\t\t\t...thisMatch.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\tthisMatch.end.value[0].length\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else if (thisMatch) {\n\t\t\t\t\t\thint.fix.anchorOther.push(...thisMatch.addLetters.ref.current)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// MOVING SPLIT\n\t\t\tconst movingLStart = hint.end.value\n\t\t\t\t.slice(0, hint.fix.joinIndex[0])\n\t\t\t\t.join('').length\n\t\t\tconst movingLLength = hint.end.value[hint.fix.joinIndex[0]].length\n\t\t\tconst movingRStart = hint.end.value\n\t\t\t\t.slice(0, hint.fix.joinIndex[1])\n\t\t\t\t.join('').length\n\t\t\tconst movingRLength = hint.end.value[hint.fix.joinIndex[1]].length\n\n\t\t\thint.fix.movingSplit = [\n\t\t\t\t...hint.addLetters.ref.current.slice(\n\t\t\t\t\tmovingLStart,\n\t\t\t\t\tmovingLStart + movingLLength\n\t\t\t\t),\n\t\t\t\t...hint.addLetters.ref.current.slice(\n\t\t\t\t\tmovingRStart,\n\t\t\t\t\tmovingRStart + movingRLength\n\t\t\t\t),\n\t\t\t]\n\n\t\t\thint.fix.movingOther = hint.addLetters.ref.current\n\t\t\t\t.slice(0, hint.end.value.join('').split('').length)\n\t\t\t\t.filter((ref) => !hint.fix.movingSplit.includes(ref))\n\n\t\t\t// Destination letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value.join('').split('').length\n\t\t\t)\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = [...hint.fix.movingSplit, ...hint.fix.movingOther].reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint, hint.fix.anchorSplit, hint.fix.movingSplit)\n\t\t\tpositionLetters(hint, hint.fix.anchorOther, hint.fix.movingOther)\n\t\t\tbreak\n\n\t\tcase 'reversal':\n\t\t\t// push only used anchor to anchor\n\t\t\thint.fix.anchor = []\n\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\tif (h.category === 'reversal') return true\n\t\t\t\tif (h.addLetters) {\n\t\t\t\t\thint.fix.anchor.push(h)\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\n\t\t\thint.fix.anchor = hint.fix.anchor\n\t\t\t\t.map((h) => h.addLetters.ref.current)\n\t\t\t\t.flat()\n\t\t\t\t.reverse()\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[0].length\n\t\t\t) // moving letters\n\t\t\thint.fix.moving = hint.fix.moving\n\t\t\t\t.filter((m) => m.current.textContent !== ' ')\n\t\t\t\t.reverse()\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following reversal. Othewise it can mess with reversal layout\n\t\t\thint.fix.wordWidth = hint.fix.moving.reduce(\n\t\t\t\t(total, ltr) => total + ltr.current.getBoundingClientRect().width,\n\t\t\t\t0\n\t\t\t)\n\t\t\t// const revIndex = activeClue.hints.findIndex(h=>h.category==='reversal')\n\t\t\t// activeClue.hints.length > (revIndex + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[0].length\n\t\t\t) // staging area letters\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tbreak\n\t}\n}\n\nexport default fixLetters\n","import removeSpecial from \"./removeSpecialChar\"\n\n// adds letters that will be needed as either duplicates or are not within the original clue\nconst addLetters = (activeClue, hint) => {\n\t\n\tif (hint && hint.type === 'indicator') { \n\t\thint.addLetters = { ref: { current: [] } }\n\t\t\n\t\tif (!hint.end || !hint.end.value) {\n\t\t\thint.addLetters.value = []\n\t\t\treturn\n\t\t}\n\n\t\tswitch(hint.category) {\n\t\t\tcase 'anagram':\n\t\t\tcase 'hidden word':\n\t\t\tcase 'letter bank':\n\t\t\tcase 'particle':\n\t\t\tcase 'symbol':\n\t\t\t\thint.addLetters.value = hint.end.value[0] ? hint.end.value[0].split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'synonym':\n\t\t\t\thint.addLetters.value = []\n\t\t\t\tbreak\n\n\t\t\tcase 'sy-2':\n\t\t\t\thint.addLetters.value = hint.end.value[0] ? hint.end.value[0].split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'container':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? [...hint.end.value.join(\"\").split(''), ...hint.end.value.join(\" \").split('')] : []\n\t\t\t\tbreak\n\n\t\t\tcase 'lb-2':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? [...hint.end.value[1], ...hint.end.value[1]] : []\n\t\t\t\tbreak\n\n\t\t\tcase 'direct':\n\t\t\t\thint.addLetters.value = hint.value.split('')\n\t\t\t\tbreak\n\n\t\t\tcase 'homophone':\n\t\t\t\thint.addLetters.value = ['= ', activeClue.solution.value]\n\t\t\t\tbreak\n\n\t\t\tcase 'hw-2':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? removeSpecial(hint.end.value[1]).split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'initialism':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? hint.end.value.map(endPt => {\n\t\t\t\t\treturn endPt ? endPt.split(' ').map(word => word.split('')[0]).flat() : []\n\t\t\t\t}).flat() : []\n\t\t\t\tbreak\n\n\t\t\tcase 'ag-2':\n\t\t\tcase 'reversal':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? hint.end.value.map(endPt => endPt ? endPt.split('') : []).flat() : []\n\t\t\t\tbreak\n\n\t\t\tcase 'spoonerism':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? hint.end.value[1].split('') : []\n\t\t\t\tbreak\n\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t}\n}\n\nexport default addLetters","import { useRef, createRef, useEffect } from 'react'\n\nimport getTargetLetters from './getTargetLetters'\nimport fixLetters from './fixLetters'\nimport addLetters from './addLetters'\nimport creators from '../../assets/data/creators.json'\n\nconst usePrepClue = (dataClue) => {\n\tlet activeClue = structuredClone(dataClue)\n\n\tuseEffect(() => console.log(activeClue), [dataClue])\n\n\t// get solution letters\n\tconst getSolutionLetters = (solution) =>\n\t\tsolution.value.split(' ').map((word) => word.length)\n\tactiveClue.solution.length = {\n\t\tvalue: `(${getSolutionLetters(activeClue.solution).join(', ')})`,\n\t\tarr: getSolutionLetters(activeClue.solution),\n\t}\n\n\t// build clue and solution arrays\n\tactiveClue.clue.arr = activeClue.clue.value.split('')\n\tactiveClue.solution.arr = activeClue.solution.value.split('')\n\tactiveClue.solution.arr = activeClue.solution.arr.filter((ltr) => ltr !== ' ')\n\n\t// build type array\n\tactiveClue.type = activeClue.type.split(', ')\n\n\t// clue source\n\tconst creator = creators.find(\n\t\t(creator) => creator.nom === activeClue.source.value\n\t)\n\tif (creator) {\n\t\tactiveClue.source.href = creator.link\n\t} else {\n\t\tactiveClue.source.href = false\n\t}\n\n\t// add hint type\n\tif (activeClue.hints) {\n\t\tactiveClue.hints.map((hint) => (hint.type = 'indicator'))\n\t\tactiveClue.hints = activeClue.hints.flatMap((obj) => {\n\t\t\tif (obj.category === 'anagram') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'ag-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'hidden word') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'hw-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'homophone') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'hp-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'initialism') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'in-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'letter bank') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'lb-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'synonym') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'sy-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\treturn [obj]\n\t\t})\n\t} else {\n\t\tactiveClue.hints = []\n\t}\n\n\t// Add definition(s)\n\tif (!activeClue.type.includes('double definition')) {\n\t\tactiveClue.hints.unshift({\n\t\t\ttype: 'definition',\n\t\t\tvalue: activeClue.definition,\n\t\t})\n\t\tactiveClue.hints[activeClue.hints.length - 1].reveals = true\n\t} else {\n\t\tactiveClue.hints.unshift(\n\t\t\t{ type: 'definition', value: activeClue.definition },\n\t\t\t{\n\t\t\t\ttype: 'indicator',\n\t\t\t\tcategory: 'dd-2',\n\t\t\t\texplainer: false,\n\t\t\t\tvalue: activeClue.definition,\n\t\t\t\treveals: true,\n\t\t\t\tend: {\n\t\t\t\t\tvalue: activeClue.definition,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t}\n\n\t// build refs\n\tactiveClue.clue.ref = useRef(activeClue.clue.arr.map(() => createRef())) // clue letter refs\n\tactiveClue.clue.sectionRef = useRef() // clue section ref\n\tactiveClue.solution.ref = useRef(\n\t\tactiveClue.solution.arr.map(() => createRef())\n\t) // solution letter refs\n\tactiveClue.solution.sectionRef = useRef() // solution section ref\n\tactiveClue.solution.length.ref = useRef() // solution length ref\n\tactiveClue.source.ref = useRef() // source ref\n\tactiveClue.spoon = useRef() // source ref\n\tactiveClue.addLetters = { ref: useRef([]) } // add letters ref\n\n\t// hint target refs\n\tactiveClue.hints.forEach((hint) => {\n\t\t// add extra letters needed\n\t\taddLetters(activeClue, hint)\n\n\t\t// indicator letters\n\t\thint.ref = getTargetLetters(hint.value, activeClue, hint)\n\n\t\t// indicator end letters\n\t\tif (!!hint.end) {\n\t\t\thint.end.ref = getTargetLetters(hint.end.value, activeClue, hint)\n\t\t}\n\t})\n\n\t// add letters\n\tactiveClue.hints.forEach((hint, index) => {\n\t\tif (hint.addLetters && hint.addLetters.value) {\n\t\t\tactiveClue.addLetters.ref.current.push(\n\t\t\t\thint.addLetters.value.map(() => createRef())\n\t\t\t)\n\t\t\thint.addLetters.ref.current = activeClue.addLetters.ref.current[index]\n\t\t} else {\n\t\t\tactiveClue.addLetters.ref.current.push([])\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\t// Fix letters - use double requestAnimationFrame to ensure flexbox layout has settled\n\t\t// This is critical for mobile where the addLetters flexbox container needs time to calculate\n\t\t// final positions before getBoundingClientRect() is called\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tconst fixList = ['ag-2', 'hw-2', 'lb-2', 'container', 'reversal']\n\t\t\t\tactiveClue.hints.forEach((hint, index) => {\n\t\t\t\t\thint &&\n\t\t\t\t\t\thint.category &&\n\t\t\t\t\t\tfixList.includes(hint.category) &&\n\t\t\t\t\t\tfixLetters(activeClue, hint, index)\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}, [])\n\n\treturn { activeClue }\n}\n\nexport default usePrepClue\n","\n// moves letters from movementLettersRef to solutionLettersRef\nconst underlineLetters = (defintionLettersRef) => {\n\t\n\tdefintionLettersRef.forEach( ref => {\n\t\tref.current.classList.add('underline')\n\t})\n\n}\n\nexport default underlineLetters","\n// moves letters from movementLettersRef to solutionLettersRef\nconst highlightLetters = (indicatedLettersRef, color = false, recheck) => {\n\n\t// Helper function to get CSS custom property values\n\tconst getCSSVariable = (variable) => {\n\t\treturn getComputedStyle(document.documentElement).getPropertyValue(variable).trim()\n\t}\n\n\tconst getBackgroundColor = () => {\n\t\tif (color) {\n\t\t\t// Map hardcoded colors to CSS custom properties\n\t\t\tswitch (color) {\n\t\t\t\tcase '#E1D8FF':\n\t\t\t\t\treturn getCSSVariable('--lc-highlight-bg')\n\t\t\t\tcase '#E2E2E2':\n\t\t\t\t\treturn getCSSVariable('--lc-bg-muted')\n\t\t\t\tdefault:\n\t\t\t\t\treturn color\n\t\t\t}\n\t\t} else {\n\t\t\treturn getCSSVariable('--lc-highlight-bg')\n\t\t}\n\t}\n\t\n\tindicatedLettersRef.forEach( ref => {\n\t\tif (recheck) {\n\t\t\t// Set to muted gray background to show previously highlighted\n\t\t\tref.current.style.backgroundColor = getCSSVariable('--lc-bg-muted')\n\t\t} else {\n\t\t\tref.current.style.backgroundColor = getBackgroundColor()\n\t\t}\n\t})\n\n}\n\nexport default highlightLetters","const changeColor = (toChange, color = false, recheck = false) => {\n\n\t// Helper function to get CSS custom property values\n\tconst getCSSVariable = (variable) => {\n\t\treturn getComputedStyle(document.documentElement).getPropertyValue(variable).trim()\n\t}\n\n\tconst getColor = () => {\n\t\tif (color) {\n\t\t\t// Map hardcoded colors to CSS custom properties\n\t\t\tswitch (color) {\n\t\t\t\tcase '#7457D6':\n\t\t\t\t\treturn getCSSVariable('--lc-highlight-text')\n\t\t\t\tcase '#0B0B0B':\n\t\t\t\tcase '#0b0b0b':\n\t\t\t\t\treturn getCSSVariable('--lc-text-primary')\n\t\t\t\tcase '#222':\n\t\t\t\t\treturn getCSSVariable('--lc-text-secondary')\n\t\t\t\tcase '#ccc':\n\t\t\t\t\treturn getCSSVariable('--lc-text-muted')\n\t\t\t\tdefault:\n\t\t\t\t\treturn color\n\t\t\t}\n\t\t} else {\n\t\t\treturn getCSSVariable('--lc-highlight-text')\n\t\t}\n\t}\n\n\tif (Array.isArray(toChange)) {\n\t\ttoChange.forEach( ref => {\n\n\t\t\tif (recheck) {\n\t\t\t\t// Reset to primary text color\n\t\t\t\tref.current.style.color = getCSSVariable('--lc-text-primary')\n\t\t\t} else {\n\t\t\t\tref.current.style.color = getColor()\n\t\t\t\tref.current.style.opacity = 1\n\t\t\t}\n\t\t})\n\t} else {\n\t\tif (recheck) {\n\t\t\t// Reset to primary text color\n\t\t\ttoChange.current.style.color = getCSSVariable('--lc-text-primary')\n\t\t} else {\n\t\t\ttoChange.current.style.color = getColor()\n\t\t\ttoChange.current.style.opacity = 1\n\t\t}\n\t}\n}\n\nexport default changeColor","import removeSpecial from './removeSpecialChar'\n\n// moves letters from movingLettersRef to destLettersRef\nconst moveLetters = (\n\tmovingLettersRef,\n\tdestLettersRef,\n\ttiming = 'shuffle',\n\treverse = false\n) => {\n\tmovingLettersRef = removeSpecial(movingLettersRef)\n\n\tif (reverse) {\n\t\tmovingLettersRef = movingLettersRef.reverse()\n\t}\n\n\tmovingLettersRef.forEach((ref, index) => {\n\t\tconst currentDestLetter = destLettersRef.find((destLetter) => {\n\t\t\treturn (\n\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t)\n\t\t})\n\n\t\tconst destIndex = destLettersRef.findIndex(\n\t\t\t(destLetter) =>\n\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\tref.current.textContent.toUpperCase()\n\t\t)\n\t\tdestLettersRef.splice(destIndex, 1)\n\n\t\tref.current.style.textTransform = 'uppercase'\n\t\tref.current.style.top = `${Math.round(Number(\n\t\t\tcurrentDestLetter.current.style.top.slice(0, -2)\n\t\t))}px`\n\t\tref.current.style.left = `${Math.round(Number(\n\t\t\tcurrentDestLetter.current.style.left.slice(0, -2)\n\t\t))}px`\n\n\t\tswitch (timing) {\n\t\t\tcase 'shuffle':\n\t\t\t\tref.current.style.transition = `top 2.5s ease ${\n\t\t\t\t\t750 * Math.random() + 250\n\t\t\t\t}ms, left 2.5s ease ${750 * Math.random() + 250}ms`\n\t\t\t\tbreak\n\t\t\tcase 'sequence':\n\t\t\t\tref.current.style.transition = `top 1.5s ease ${\n\t\t\t\t\t200 * index\n\t\t\t\t}ms, left 1.5s ease ${200 * index}ms`\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tref.current.style.transition = `top 2.5s ease, left 2.5s ease`\n\t\t\t\tbreak\n\t\t}\n\t})\n}\n\nexport default moveLetters\n","import underlineLetters from './underlineLetters'\nimport highlightLetters from './highlightLetters'\nimport changeColor from './changeColor'\nimport moveLetters from './moveLetters'\n\nconst handleHint = (activeClue, nextHint, showMessage, checkAns, showLogic) => {\n\t\n\tconst hint = activeClue.hints[nextHint]\n\tconst prevHint = activeClue.hints[nextHint - 1]\n\n\t// Run if showing a message & not checking answer\n\tif (showMessage && !checkAns) {\n\n\t\t// Definition\n\t\tif (nextHint === 0) {\n\t\t\tunderlineLetters(hint.ref)\n\n\t\t\t// Indicators\n\t\t} else {\n\t\t\tswitch (hint.category) {\n\t\t\t\tcase 'anagram':\n\t\t\t\tcase 'letter bank':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'ag-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[0].length)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'lb-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[1].length),\n\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[1].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[1].length)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'charade':\n\t\t\t\tcase 'symbol':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'synonym':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'sy-2':\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'container':\n\t\t\t\t\thighlightLetters(hint.ref)\n\n\t\t\t\t\t// make all previous addLetters gray\n\t\t\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\t\t\t// Break out if container\n\t\t\t\t\t\tif (h.category === 'container') return true\n\n\t\t\t\t\t\tif (h.addLetters) {\n\t\t\t\t\t\t\tchangeColor(h.addLetters.ref.current, '#ccc')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\n\t\t\t\t\t// Make moving letters dark\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'#222'\n\t\t\t\t\t)\n\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'dd-2':\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'deletion':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\n\t\t\t\t\t// see if shorter word exists within last hint addLetters\n\t\t\t\t\tconst delIndex = prevHint.addLetters.value\n\t\t\t\t\t\t.join('')\n\t\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t\t.indexOf(hint.end.value[1].toUpperCase())\n\n\t\t\t\t\t// if so, highlight short word in longer\n\t\t\t\t\tif (hint.end.value.length > 2) {\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\thint.end.value[1].length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(-hint.end.value[2].length),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\t\t\t\t\t} else if (delIndex >= 0) {\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\tdelIndex,\n\t\t\t\t\t\t\t\tdelIndex + hint.end.value[1].length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'delete even':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tconst oddOnly = prevHint.addLetters.ref.current.filter(\n\t\t\t\t\t\t(ltr, index) => index % 2 !== 0\n\t\t\t\t\t)\n\t\t\t\t\tconsole.log(oddOnly)\n\t\t\t\t\tchangeColor(oddOnly, '#ccc')\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'delete odd':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tconst evenOnly = prevHint.addLetters.ref.current.filter(\n\t\t\t\t\t\t(ltr, index) => index % 2 === 0\n\t\t\t\t\t)\n\t\t\t\t\tconsole.log(evenOnly)\n\t\t\t\t\tchangeColor(evenOnly, '#ccc')\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'direct':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hidden word':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hw-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'homophone':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current[0])\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hp-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current[1])\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'initialism':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'in-2':\n\t\t\t\t\tchangeColor(prevHint.end.ref, '#ccc')\n\t\t\t\t\t// build arrary of first letters\n\t\t\t\t\tlet firstLetters = prevHint.end.value[0]\n\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t.map((wrd) => wrd.length + 1)\n\t\t\t\t\tfirstLetters.pop()\n\t\t\t\t\tfirstLetters = [0, ...firstLetters]\n\n\t\t\t\t\tfirstLetters.forEach((startLetter) => {\n\t\t\t\t\t\tchangeColor(prevHint.end.ref[startLetter])\n\t\t\t\t\t\tprevHint.end.ref.splice(0, startLetter)\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'particle':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'reversal':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\n\t\t\t\t\t// make all previous addLetters gray\n\t\t\t\t\tlet usedAnchor = []\n\t\t\t\t\t// push only used anchor to anchor\n\t\t\t\t\tlet anchor = []\n\t\t\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\t\t\tif (h.category === 'reversal') return true\n\t\t\t\t\t\tif (h.addLetters) {\n\t\t\t\t\t\t\tanchor.push(h)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\t\t\t\t\tanchor = anchor\n\t\t\t\t\t\t.map((h) => h.addLetters.ref.current)\n\t\t\t\t\t\t.flat()\n\t\t\t\t\t\t.reverse()\n\n\t\t\t\t\tlet moving = hint.addLetters.ref.current.slice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\thint.end.value[0].length\n\t\t\t\t\t)\n\t\t\t\t\tmoving = moving.filter((m) => m.current.textContent !== ' ').reverse()\n\n\t\t\t\t\t// Build arr of used anchors\n\t\t\t\t\tmoving.forEach((ref) => {\n\t\t\t\t\t\tconst destIndex = anchor.findIndex(\n\t\t\t\t\t\t\t(destLetter) =>\n\t\t\t\t\t\t\t\tdestLetter.current.textContent === ref.current.textContent\n\t\t\t\t\t\t)\n\t\t\t\t\t\tusedAnchor.push(anchor[destIndex])\n\t\t\t\t\t\tanchor.splice(destIndex, 1)\n\t\t\t\t\t})\n\n\t\t\t\t\tchangeColor(usedAnchor, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\t'#222'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[0].length),\n\t\t\t\t\t\t'sequence',\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'spoonerism':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tchangeColor(activeClue.spoon)\n\t\t\t\t\tbreak\n\n\t\t\t\tdefault:\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\t// If this is the revealing hint, end clue.\n\t\tif (hint.reveals) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.solution.sectionRef.current.classList.add('hide-input')\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.solution.sectionRef.current.classList.add(\n\t\t\t\t\t\t'reveal-solution'\n\t\t\t\t\t)\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.source.ref.current.classList.add('show')\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t}\n\t}\n\n\t// Change last hint to gray when going back to play\n\tif (nextHint > 1 && !showMessage && !checkAns) {\n\t\t\n\t\ttry {\n\t\t\t// Gray out highlighting\n\t\t\thighlightLetters(prevHint.ref, false, true)\n\n\t\t\t// Gray last added letters\n\t\t\tif (prevHint.end) {\n\t\t\t\tchangeColor(prevHint.end.ref, false, true)\n\t\t\t} else {\n\t\t\t\tchangeColor(prevHint.ref, false, true)\n\t\t\t}\n\n\t\t\t// For hints in logic display, keep letters gray instead of resetting to primary\n\t\t\tif (prevHint.category !== 'deletion') {\n\t\t\t\tif (showLogic && (prevHint.category === 'anagram' || prevHint.category === 'letter bank'|| hint.category === 'container')) {\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t} else {\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, false, true)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchangeColor(activeClue.hints[nextHint - 2].addLetters.ref.current, false, true)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\t// Gray out previous hint's background during showLogic stepping\n\tif (showLogic && nextHint > 1 && showMessage) {\n\t\ttry {\n\t\t\thighlightLetters(prevHint.ref, false, true)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport default handleHint\n","import { useState, useEffect } from 'react'\n\nimport handleHint from './handleHint'\n\nconst useManageClue = (activeClue) => {\n\n\t// state\n\tconst [stats, setStats] = useState({ guesses: 0, hints: 0, how: '' })\n    const [input, setInput] = useState([])\n\tconst [nextHint, setNextHint] = useState(0)\n\tconst [showMessage, setShowMessage] = useState(false)\n\tconst [checkAns, setCheckAns] = useState(false)\n\tconst [showLogic, setShowLogic] = useState(false)\n\tconst [revealedLetters, setRevealedLetters] = useState([]) // Array of indices of revealed letters\n\tconst [showRevealPrompt, setShowRevealPrompt] = useState(false)\n\tconst [revealPromptIndex, setRevealPromptIndex] = useState(null)\n\n\t// handle revealing a letter\n\tconst handleRevealLetter = (index) => {\n\t\t// Don't allow revealing if already revealed\n\t\tif (revealedLetters.includes(index)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow revealing if this would be the last unrevealed letter\n\t\tif (revealedLetters.length >= activeClue.solution.arr.length - 1) {\n\t\t\treturn\n\t\t}\n\n\t\t// Add to revealed letters\n\t\tconst newRevealedLetters = [...revealedLetters, index].sort((a, b) => a - b)\n\t\tsetRevealedLetters(newRevealedLetters)\n\n\t\t// Update input to include the revealed letter\n\t\tsetInput(prevInput => {\n\t\t\tconst newInput = [...prevInput]\n\n\t\t\t// Extend array to include this position, filling gaps\n\t\t\twhile (newInput.length <= index) {\n\t\t\t\tconst currentPos = newInput.length\n\t\t\t\t// If this position is revealed (including the one we just revealed), add the letter\n\t\t\t\tif (newRevealedLetters.includes(currentPos)) {\n\t\t\t\t\tnewInput.push(activeClue.solution.arr[currentPos])\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise add empty string\n\t\t\t\t\tnewInput.push('')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Ensure the revealed position has the correct letter (in case it was wrong)\n\t\t\tnewInput[index] = activeClue.solution.arr[index]\n\n\t\t\treturn newInput\n\t\t})\n\n\t\t// Increment hints counter\n\t\tsetStats(prev => ({ ...prev, hints: prev.hints + 1 }))\n\n\t\t// Close the prompt\n\t\tsetShowRevealPrompt(false)\n\t\tsetRevealPromptIndex(null)\n\t}\n\n\t// handle clicking on a solution square\n\tconst handleSquareClick = (index) => {\n\t\t// Don't allow clicking if already revealed\n\t\tif (revealedLetters.includes(index)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow clicking if this would be the last unrevealed letter\n\t\tif (revealedLetters.length >= activeClue.solution.arr.length - 1) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow clicking if message is showing\n\t\tif (showMessage) {\n\t\t\treturn\n\t\t}\n\n\t\t// Show the prompt\n\t\tsetRevealPromptIndex(index)\n\t\tsetShowRevealPrompt(true)\n\t}\n\n    // handle input\n    const handleInput = (press, revealedLettersParam = revealedLetters) => {\n\t\tsetInput((prevInput) => {\n            if (press !== 'del') {\n\t\t\t\t// Find the first empty, non-revealed position\n\t\t\t\tlet insertPos = -1\n\t\t\t\tfor (let i = 0; i < activeClue.solution.arr.length; i++) {\n\t\t\t\t\tif ((!prevInput[i] || prevInput[i] === '') && !revealedLettersParam.includes(i)) {\n\t\t\t\t\t\tinsertPos = i\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we found a position, insert the letter there\n\t\t\t\tif (insertPos >= 0) {\n\t\t\t\t\tconst newInput = [...prevInput]\n\n\t\t\t\t\t// Extend array if needed\n\t\t\t\t\twhile (newInput.length <= insertPos) {\n\t\t\t\t\t\tnewInput.push('')\n\t\t\t\t\t}\n\n\t\t\t\t\tnewInput[insertPos] = press\n\n\t\t\t\t\treturn newInput\n\t\t\t\t}\n\n                return prevInput\n            } else if (press === 'del') {\n\t\t\t\t// Find the last non-revealed, non-empty position to delete from\n\t\t\t\tlet deletePos = -1\n\t\t\t\tfor (let i = prevInput.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (!revealedLettersParam.includes(i) && prevInput[i] && prevInput[i] !== '') {\n\t\t\t\t\t\tdeletePos = i\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we found a position to delete, remove it\n\t\t\t\tif (deletePos >= 0) {\n\t\t\t\t\tconst newInput = [...prevInput]\n\t\t\t\t\tnewInput[deletePos] = ''\n\n\t\t\t\t\t// Trim trailing empty strings, but keep revealed letters\n\t\t\t\t\twhile (newInput.length > 0) {\n\t\t\t\t\t\tconst lastIndex = newInput.length - 1\n\t\t\t\t\t\tif (newInput[lastIndex] === '' && !revealedLettersParam.includes(lastIndex)) {\n\t\t\t\t\t\t\tnewInput.pop()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newInput\n\t\t\t\t}\n\n                return prevInput\n            } else {\n\t\t\t\treturn prevInput\n\t\t\t}\n        })\n    }\n\t\n\t// runs every change of showMessage\n\tuseEffect(() => {\n\t\thandleHint(activeClue, nextHint, showMessage, checkAns, showLogic)\n\t}, [showMessage, activeClue, nextHint, checkAns, showLogic])\n\n\treturn {\n\t\tstats,\n\t\tsetStats,\n\t\tinput,\n\t\tsetInput,\n\t\thandleInput,\n\t\tnextHint,\n\t\tsetNextHint,\n\t\tshowMessage,\n\t\tsetShowMessage,\n\t\tcheckAns,\n\t\tsetCheckAns,\n\t\tshowLogic,\n\t\tsetShowLogic,\n\t\trevealedLetters,\n\t\tsetRevealedLetters,\n\t\tshowRevealPrompt,\n\t\tsetShowRevealPrompt,\n\t\trevealPromptIndex,\n\t\thandleRevealLetter,\n\t\thandleSquareClick\n\t}\n}\n\nexport default useManageClue","import React, { useContext, useState, useEffect, useRef } from 'react'\nimport { graphql } from 'gatsby'\nimport { UserContext } from '../../utils/UserContext'\nimport Layout from '../../components/layout'\nimport Bottom from '../../components/Bottom'\nimport Tooltip from '../../components/Tooltip'\nimport prepClue from '../../utils/clue/usePrepClue'\nimport manageClue from '../../utils/clue/useManageClue'\nimport { isTodayClue } from '../../utils/dateHelpers'\n\nimport eyeOpen from '../../assets/img/eye--open.svg'\nimport eyeClosed from '../../assets/img/eye--closed.svg'\nimport d1 from '../../assets/img/difficulty/1.svg'\nimport d2 from '../../assets/img/difficulty/2.svg'\nimport d3 from '../../assets/img/difficulty/3.svg'\nimport d4 from '../../assets/img/difficulty/4.svg'\n\nconst CluePage = ({ data }) => {\n\tconst dataClue = data.cluesJson\n\tconst [showDifficultyTooltip, setShowDifficultyTooltip] = useState(false)\n\tconst [revealPopupPosition, setRevealPopupPosition] = useState(null)\n\tconst revealPopupRef = useRef(null)\n\n\t// Add fixed-page class to prevent scrolling\n\tuseEffect(() => {\n\t\tif (typeof window !== 'undefined') {\n\t\t\tdocument.body.classList.add('fixed-page')\n\t\t\treturn () => {\n\t\t\t\tdocument.body.classList.remove('fixed-page')\n\t\t\t}\n\t\t}\n\t}, [])\n\n\t// Track when users start today's daily clue\n\tuseEffect(() => {\n\t\tif (isTodayClue(dataClue) && typeof window.gtag !== 'undefined') {\n\t\t\twindow.gtag('event', 'started_daily_clue', {\n\t\t\t\tclid: dataClue.clid,\n\t\t\t\tdifficulty: dataClue.difficulty,\n\t\t\t\tstreak: streak,\n\t\t\t})\n\t\t}\n\t}, [dataClue.clid, dataClue.release, dataClue.difficulty, streak])\n\n\t// Helper functions for difficulty\n\tconst getImg = (difficulty) => {\n\t\tswitch (Number(difficulty)) {\n\t\t\tcase 1:\n\t\t\t\treturn d1\n\t\t\tcase 2:\n\t\t\t\treturn d2\n\t\t\tcase 3:\n\t\t\t\treturn d3\n\t\t\tcase 4:\n\t\t\t\treturn d4\n\t\t\tdefault:\n\t\t\t\treturn d1\n\t\t}\n\t}\n\n\tconst getDifficultyText = (difficulty) => {\n\t\tswitch (Number(difficulty)) {\n\t\t\tcase 1:\n\t\t\t\treturn 'Easy'\n\t\t\tcase 2:\n\t\t\t\treturn 'Moderate'\n\t\t\tcase 3:\n\t\t\t\treturn 'Difficult'\n\t\t\tcase 4:\n\t\t\t\treturn 'Very Difficult'\n\t\t\tdefault:\n\t\t\t\treturn 'Easy'\n\t\t}\n\t}\n\tconst {\n\t\taddCompletedClue,\n\t\tshowType,\n\t\tsetShowType,\n\t\treturnLearn,\n\t\tsetReturnLearn,\n\t\tstreak,\n\t} = useContext(UserContext)\n\n\t// Set up activeClue\n\tlet { activeClue } = prepClue(dataClue)\n\tlet {\n\t\tstats,\n\t\tsetStats,\n\t\tinput,\n\t\tsetInput,\n\t\thandleInput,\n\t\tnextHint,\n\t\tsetNextHint,\n\t\tshowMessage,\n\t\tsetShowMessage,\n\t\tcheckAns,\n\t\tsetCheckAns,\n\t\tshowLogic,\n\t\tsetShowLogic,\n\t\trevealedLetters,\n\t\tshowRevealPrompt,\n\t\tsetShowRevealPrompt,\n\t\trevealPromptIndex,\n\t\thandleRevealLetter,\n\t\thandleSquareClick,\n\t} = manageClue(activeClue)\n\n\t// Calculate popup position when reveal prompt is shown\n\tuseEffect(() => {\n\t\tif (showRevealPrompt && revealPromptIndex !== null) {\n\t\t\tconst element = document.getElementById(`i${revealPromptIndex}`)\n\t\t\tif (element) {\n\t\t\t\tconst rect = element.getBoundingClientRect()\n\t\t\t\tsetRevealPopupPosition({\n\t\t\t\t\ttop: rect.top,\n\t\t\t\t\tleft: rect.left + rect.width / 2\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tsetRevealPopupPosition(null)\n\t\t}\n\t}, [showRevealPrompt, revealPromptIndex])\n\n\t// Close reveal popup when clicking outside\n\tuseEffect(() => {\n\t\tif (!showRevealPrompt) return\n\n\t\tconst handleClickOutside = (e) => {\n\t\t\tif (revealPopupRef.current && !revealPopupRef.current.contains(e.target)) {\n\t\t\t\tsetShowRevealPrompt(false)\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('click', handleClickOutside, true)\n\t\treturn () => document.removeEventListener('click', handleClickOutside, true)\n\t}, [showRevealPrompt, setShowRevealPrompt])\n\n\t// type HTML\n\tconst pillList = activeClue.type.map((t, index) => (\n\t\t<li\n\t\t\tkey={`type_${index}`}\n\t\t\tclassName='type-pill tooltip-parent bg-purple-200 dark:!bg-[#4A3F6B] dark:!text-white'\n\t\t\taria-describedby='tooltip-id'\n\t\t>\n\t\t\t{t}\n\t\t\t<Tooltip text={t} />\n\t\t</li>\n\t))\n\n\tconst typeInsert = showType ? (\n\t\t<>\n\t\t\t<li className='eyecon'>\n\t\t\t\t<button aria-label='Hide type' onClick={() => setShowType(false)}>\n\t\t\t\t\t<img src={eyeClosed} alt='' />\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t{pillList}\n\t\t</>\n\t) : (\n\t\t<>\n\t\t\t<li className='eyecon'>\n\t\t\t\t<button onClick={() => setShowType(true)} aria-label='Show type'>\n\t\t\t\t\t<img src={eyeOpen} alt='' />\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t<li className='type-text'>\n\t\t\t\t<button onClick={() => setShowType(true)} aria-label='Expand type'>\n\t\t\t\t\tSee type\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t</>\n\t)\n\n\t// stats HTML\n\tconst statsInsert = (\n\t\t<>\n\t\t\t<div className='clue-stats'>\n\t\t\t\t<span className='stat-hints dark:!bg-[#4A3F6B] dark:!text-white' data-testid='stat-hints'>\n\t\t\t\t\t<span className='stat'>{stats.hints}</span>&nbsp;\n\t\t\t\t\t{stats.hints === 1 ? 'hint' : 'hints'}\n\t\t\t\t</span>\n\t\t\t\t<span className='stat-guesses dark:!bg-[rgb(120,70,45)] dark:!text-white' data-testid='stat-guesses'>\n\t\t\t\t\t<span className='stat'>{stats.guesses}</span>&nbsp;\n\t\t\t\t\t{stats.guesses === 1 ? 'guess' : 'guesses'}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</>\n\t)\n\n\t// clue HTML\n\tconst clueInsert = activeClue.clue.arr.map((letter, index) => (\n\t\t<span\n\t\t\tkey={`cluearr_${index}`}\n\t\t\tref={activeClue.clue.ref.current[index]}\n\t\t\tclassName='letter'\n\t\t>\n\t\t\t{letter}\n\t\t</span>\n\t))\n\n\t// addLetters HTML\n\tlet addInsert = []\n\tactiveClue.hints.forEach((hint, parentIndex) => {\n\t\tif (\n\t\t\thint.type === 'indicator' &&\n\t\t\t!!hint.addLetters &&\n\t\t\t!!hint.addLetters.value\n\t\t) {\n\t\t\tconst lettersInsert = hint.addLetters.value.map((letter, childIndex) => (\n\t\t\t\t<span\n\t\t\t\t\tkey={`${parentIndex}_${childIndex}`}\n\t\t\t\t\tref={activeClue.addLetters.ref.current[parentIndex][childIndex]}\n\t\t\t\t\tclassName='letter'\n\t\t\t\t>\n\t\t\t\t\t{letter}\n\t\t\t\t</span>\n\t\t\t))\n\n\t\t\tconst brCats = [\n\t\t\t\t'container',\n\t\t\t\t'reversal',\n\t\t\t\t'ag-2',\n\t\t\t\t'lb-2',\n\t\t\t\t'hw-2',\n\t\t\t\t'spoonerism',\n\t\t\t]\n\t\t\tconst addBr = brCats.includes(hint.category)\n\t\t\tconst br = (\n\t\t\t\t<span key={`br_${parentIndex}`} style={{ flexBasis: '100%' }}></span>\n\t\t\t)\n\n\t\t\tconst addSpoon = hint.category === 'spoonerism'\n\t\t\tconst spoon = (\n\t\t\t\t<>\n\t\t\t\t\t<svg\n\t\t\t\t\t\tkey={`svg_${parentIndex}`}\n\t\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\t\tviewBox='0 0 512 512'\n\t\t\t\t\t\twidth='20px'\n\t\t\t\t\t\theight='20px'\n\t\t\t\t\t\tref={activeClue.spoon}\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d='M245.8 220.9c-14.5-17.6-21.8-39.2-21.8-60.8C224 80 320 0 416 0c53 0 96 43 96 96c0 96-80 192-160.2 192c-21.6 0-43.2-7.3-60.8-21.8L54.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L245.8 220.9z' />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span style={{ flexBasis: '100%' }}></span>\n\t\t\t\t</>\n\t\t\t)\n\n\t\t\taddBr && addInsert.push(br)\n\t\t\taddSpoon && addInsert.push(spoon)\n\t\t\taddInsert.push(\n\t\t\t\t<span\n\t\t\t\t\tkey={`${parentIndex}_word`}\n\t\t\t\t\tref={hint.addLetters.wordRef}\n\t\t\t\t\tclassName='word'\n\t\t\t\t>\n\t\t\t\t\t{lettersInsert}&nbsp;\n\t\t\t\t</span>\n\t\t\t)\n\t\t}\n\t})\n\n\t// Find the first empty, non-revealed position for the cursor\n\tconst getCursorPosition = () => {\n\t\tfor (let i = 0; i < activeClue.solution.arr.length; i++) {\n\t\t\tif ((!input[i] || input[i] === '') && !revealedLetters.includes(i)) {\n\t\t\t\treturn i\n\t\t\t}\n\t\t}\n\t\treturn activeClue.solution.arr.length\n\t}\n\tconst cursorPosition = showMessage ? -1 : getCursorPosition()\n\n\t// solution HTML\n\tconst solInsert = activeClue.solution.arr.map((letter, index) => {\n\t\tconst isActive = index === cursorPosition\n\t\tconst isRevealed = revealedLetters.includes(index)\n\t\tconst isEmpty = !input[index] || input[index] === ''\n\t\tconst wouldBeLastLetter = revealedLetters.length >= activeClue.solution.arr.length - 1\n\t\tconst canReveal = isEmpty && !isRevealed && !showMessage && !wouldBeLastLetter\n\n\t\tlet cursor = 'default'\n\n\t\tif (canReveal) {\n\t\t\tcursor = 'pointer'\n\t\t}\n\n\t\tconst squareStyle = {\n\t\t\tborderWidth: '0.75px',\n\t\t\tcursor,\n\t\t\tpointerEvents: canReveal ? 'auto' : 'none',\n\t\t\t...(isActive && { backgroundColor: 'var(--lc-highlight-bg)' })\n\t\t}\n\n\t\treturn (\n\t\t\t<span\n\t\t\t\tkey={`solarr_${index}`}\n\t\t\t\tid={`i${index}`}\n\t\t\t\tclassName='letter border-neutral-900 dark:!border-white'\n\t\t\t\tstyle={squareStyle}\n\t\t\t\tonClick={() => handleSquareClick(index)}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\thandleSquareClick(index)\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\trole={canReveal ? 'button' : 'presentation'}\n\t\t\t\ttabIndex={canReveal ? 0 : -1}\n\t\t\t\taria-label={canReveal ? `Reveal letter ${index + 1}` : undefined}\n\t\t\t\tdata-testid={`solution-square-${index}`}\n\t\t\t\tdata-revealed={isRevealed ? 'true' : 'false'}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tid={`sl${index}`}\n\t\t\t\t\tref={activeClue.solution.ref.current[index]}\n\t\t\t\t\tclassName='solLetter'\n\t\t\t\t>\n\t\t\t\t\t{letter}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tclassName='typeLetter'\n\t\t\t\t\tstyle={isRevealed ? { color: 'var(--lc-highlight-text)' } : {}}\n\t\t\t\t>\n\t\t\t\t\t{input[index]}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t})\n\n\t// solution length\n\tconst solLength = (\n\t\t<span\n\t\t\tid='solLengthRef'\n\t\t\tref={activeClue.solution.length.ref}\n\t\t\tclassName='solution-letters'\n\t\t\tdata-testid='solution-length'\n\t\t>\n\t\t\t&nbsp;{activeClue.solution.length.value}\n\t\t</span>\n\t)\n\n\t// source HTML\n\tconst sourceInsert = activeClue.source.href ? (\n\t\t<a target='_blank' rel='noreferrer' href={activeClue.source.href}>\n\t\t\t{activeClue.source.value}\n\t\t</a>\n\t) : (\n\t\t<span>{activeClue.source.value}</span>\n\t)\n\n\treturn (\n\t\t<Layout>\n\t\t\t<div className='clue-page'>\n\t\t\t\t<div id='clue-container' className='clue lc-container' data-testid='clue-container'>\n\t\t\t\t\t<ul className='type'>{typeInsert}</ul>\n\t\t\t\t\t{statsInsert}\n\t\t\t\t\t<div\n\t\t\t\t\t\tid='clueSectionRef'\n\t\t\t\t\t\tref={activeClue.clue.sectionRef}\n\t\t\t\t\t\tclassName='clue'\n\t\t\t\t\t\tdata-testid='clue-text'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{clueInsert} {solLength}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='addLetters'>{addInsert}</div>\n\t\t\t\t\t<div style={{ position: 'relative' }} className='sol-section'>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid='solSectionRef'\n\t\t\t\t\t\t\tref={activeClue.solution.sectionRef}\n\t\t\t\t\t\t\tclassName='solution'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{solInsert}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id='sourceRef' ref={activeClue.source.ref} className='source'>\n\t\t\t\t\t\t\tby {sourceInsert}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='clue-difficulty'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='difficulty-button'\n\t\t\t\t\t\t\taria-label={`Difficulty: ${getDifficultyText(\n\t\t\t\t\t\t\t\tdataClue.difficulty\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tonMouseEnter={() => setShowDifficultyTooltip(true)}\n\t\t\t\t\t\t\tonMouseLeave={() => setShowDifficultyTooltip(false)}\n\t\t\t\t\t\t\tonClick={() => setShowDifficultyTooltip(!showDifficultyTooltip)}\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\tsetShowDifficultyTooltip(!showDifficultyTooltip)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName='difficulty-icon'\n\t\t\t\t\t\t\t\tsrc={getImg(dataClue.difficulty)}\n\t\t\t\t\t\t\t\talt={`Difficulty level ${dataClue.difficulty}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{showDifficultyTooltip && (\n\t\t\t\t\t\t\t<div className='difficulty-tooltip'>\n\t\t\t\t\t\t\t\t{getDifficultyText(dataClue.difficulty)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Bottom\n\t\t\t\t\tshowMessage={showMessage}\n\t\t\t\t\tsetShowMessage={setShowMessage}\n\t\t\t\t\tnextHint={nextHint}\n\t\t\t\t\tsetNextHint={setNextHint}\n\t\t\t\t\tactiveClue={activeClue}\n\t\t\t\t\taddCompletedClue={addCompletedClue}\n\t\t\t\t\tinput={input}\n\t\t\t\t\tsetInput={setInput}\n\t\t\t\t\thandleInput={handleInput}\n\t\t\t\t\tcheckAns={checkAns}\n\t\t\t\t\tsetCheckAns={setCheckAns}\n\t\t\t\t\tstats={stats}\n\t\t\t\t\tsetStats={setStats}\n\t\t\t\t\treturnLearn={returnLearn}\n\t\t\t\t\tsetReturnLearn={setReturnLearn}\n\t\t\t\t\tshowLogic={showLogic}\n\t\t\t\t\tsetShowLogic={setShowLogic}\n\t\t\t\t\trevealedLetters={revealedLetters}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t{showRevealPrompt && revealPromptIndex !== null && revealPopupPosition && (\n\t\t\t\t<div\n\t\t\t\t\tref={revealPopupRef}\n\t\t\t\t\tclassName='reveal-popup'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\ttop: revealPopupPosition.top - 10,\n\t\t\t\t\t\tleft: revealPopupPosition.left,\n\t\t\t\t\t\ttransform: 'translate(-50%, -100%)',\n\t\t\t\t\t\tzIndex: 100,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tpadding: '0.75rem 1rem 0.5rem'\n\t\t\t\t\t}}\n\t\t\t\t\trole='dialog'\n\t\t\t\t\taria-modal='true'\n\t\t\t\t\taria-labelledby='reveal-letter-title'\n\t\t\t\t>\n\t\t\t\t\t<p id='reveal-letter-title' style={{ margin: '0 0 0.5rem 0', fontSize: '0.8rem' }}>Reveal letter?</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='bg-purple-200 dark:!bg-[#4A3F6B] dark:!text-white'\n\t\t\t\t\t\tstyle={{ padding: '0.35rem 0.75rem', borderRadius: '50px', border: 'none', cursor: 'pointer', fontSize: '0.8rem' }}\n\t\t\t\t\t\tonClick={() => handleRevealLetter(revealPromptIndex)}\n\t\t\t\t\t\tdata-testid='modal-reveal-confirm'\n\t\t\t\t\t>\n\t\t\t\t\t\tReveal\n\t\t\t\t\t</button>\n\t\t\t\t\t<div className='popup-arrow' />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery ($id: String) {\n\t\tcluesJson(id: { eq: $id }) {\n\t\t\tid\n\t\t\tclid\n\t\t\tclue {\n\t\t\t\tvalue\n\t\t\t}\n\t\t\trelease\n\t\t\tdifficulty\n\t\t\tdow\n\t\t\ttype\n\t\t\tdefinition\n\t\t\thints {\n\t\t\t\tcategory\n\t\t\t\tvalue\n\t\t\t\texplainer\n\t\t\t\tend {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t}\n\t\t\tsolution {\n\t\t\t\tvalue\n\t\t\t}\n\t\t\tsource {\n\t\t\t\tvalue\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport default CluePage\n\nexport const Head = ({ data }) => {\n\tconst clue = data.cluesJson\n\tconst clueDate = new Date(clue.release).toLocaleDateString('en-US', {\n\t\tyear: 'numeric',\n\t\tmonth: 'long',\n\t\tday: 'numeric'\n\t})\n\t\n\treturn (\n\t\t<>\n\t\t\t<title>{`Cryptic Clue #${clue.clid} - ${clueDate} | Learn Cryptic`}</title>\n\t\t\t<meta name=\"description\" content={`Solve today's cryptic crossword clue: \"${clue.clue.value}\". Interactive hints and explanations to help you learn cryptic crossword techniques.`} />\n\t\t\t<link rel=\"canonical\" href={`https://learncryptic.com/clues/${clue.clid}`} />\n\t\t\t<script type=\"application/ld+json\">\n\t\t\t\t{JSON.stringify({\n\t\t\t\t\t\"@context\": \"https://schema.org\",\n\t\t\t\t\t\"@type\": \"Question\",\n\t\t\t\t\t\"name\": `Cryptic Clue #${clue.clid}`,\n\t\t\t\t\t\"text\": clue.clue.value,\n\t\t\t\t\t\"datePublished\": clue.release,\n\t\t\t\t\t\"author\": {\n\t\t\t\t\t\t\"@type\": \"Organization\",\n\t\t\t\t\t\t\"name\": \"Learn Cryptic\"\n\t\t\t\t\t},\n\t\t\t\t\t\"acceptedAnswer\": {\n\t\t\t\t\t\t\"@type\": \"Answer\",\n\t\t\t\t\t\t\"text\": clue.solution.value\n\t\t\t\t\t},\n\t\t\t\t\t\"difficulty\": clue.difficulty,\n\t\t\t\t\t\"about\": {\n\t\t\t\t\t\t\"@type\": \"Thing\",\n\t\t\t\t\t\t\"name\": \"Cryptic Crossword\",\n\t\t\t\t\t\t\"description\": \"A type of crossword puzzle where each clue is a word puzzle in itself\"\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</script>\n\t\t</>\n\t)\n}\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI3OF8xMzg5NSkiPgo8cGF0aCBkPSJNMTQuOTUwNyAxNC45NTAyQzEzLjUyNjEgMTYuMDM2IDExLjc5MTYgMTYuNjM3NSAxMC4wMDA3IDE2LjY2NjhDNC4xNjczMiAxNi42NjY4IDAuODMzOTg0IDEwLjAwMDIgMC44MzM5ODQgMTAuMDAwMkMxLjg3MDU2IDguMDY4NDEgMy4zMDgyNiA2LjM4MDY3IDUuMDUwNjUgNS4wNTAxNk04LjI1MDY1IDMuNTMzNUM4LjgyNDI2IDMuMzk5MjMgOS40MTE1NCAzLjMzMjExIDEwLjAwMDcgMy4zMzM1QzE1LjgzNCAzLjMzMzUgMTkuMTY3MyAxMC4wMDAyIDE5LjE2NzMgMTAuMDAwMkMxOC42NjE1IDEwLjk0NjUgMTguMDU4MiAxMS44Mzc0IDE3LjM2NzMgMTIuNjU4NU0xMS43NjczIDExLjc2NjhDMTEuNTM4NCAxMi4wMTI1IDExLjI2MjQgMTIuMjA5NSAxMC45NTU4IDEyLjM0NjFDMTAuNjQ5MSAxMi40ODI3IDEwLjMxODEgMTIuNTU2MiA5Ljk4MjM5IDEyLjU2MjFDOS42NDY3MiAxMi41NjgxIDkuMzEzMjkgMTIuNTA2MyA5LjAwMTk5IDEyLjM4MDZDOC42OTA3IDEyLjI1NDggOC40MDc5MiAxMi4wNjc3IDguMTcwNTIgMTEuODMwM0M3LjkzMzEzIDExLjU5MjkgNy43NDU5OCAxMS4zMTAxIDcuNjIwMjQgMTAuOTk4OEM3LjQ5NDUgMTAuNjg3NSA3LjQzMjc2IDEwLjM1NDEgNy40Mzg2OCAxMC4wMTg0QzcuNDQ0NiA5LjY4Mjc0IDcuNTE4MDcgOS4zNTE3IDcuNjU0NzEgOS4wNDUwNEM3Ljc5MTM1IDguNzM4MzcgNy45ODgzNiA4LjQ2MjM3IDguMjMzOTggOC4yMzM1TTAuODMzOTg0IDAuODMzNDk2TDE5LjE2NzMgMTkuMTY2OCIgc3Ryb2tlPSIjRDJEMkQyIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzI3OF8xMzg5NSI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI3OF8xMzg2OSkiPgo8cGF0aCBkPSJNMC44MzM5ODQgMTAuMDAwMkMwLjgzMzk4NCAxMC4wMDAyIDQuMTY3MzIgMy4zMzM1IDEwLjAwMDcgMy4zMzM1QzE1LjgzNCAzLjMzMzUgMTkuMTY3MyAxMC4wMDAyIDE5LjE2NzMgMTAuMDAwMkMxOS4xNjczIDEwLjAwMDIgMTUuODM0IDE2LjY2NjggMTAuMDAwNyAxNi42NjY4QzQuMTY3MzIgMTYuNjY2OCAwLjgzMzk4NCAxMC4wMDAyIDAuODMzOTg0IDEwLjAwMDJaIiBzdHJva2U9IiNEMkQyRDIiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMC4wMDA3IDEyLjUwMDJDMTEuMzgxNCAxMi41MDAyIDEyLjUwMDcgMTEuMzgwOSAxMi41MDA3IDEwLjAwMDJDMTIuNTAwNyA4LjYxOTQ1IDExLjM4MTQgNy41MDAxNiAxMC4wMDA3IDcuNTAwMTZDOC42MTk5NCA3LjUwMDE2IDcuNTAwNjUgOC42MTk0NSA3LjUwMDY1IDEwLjAwMDJDNy41MDA2NSAxMS4zODA5IDguNjE5OTQgMTIuNTAwMiAxMC4wMDA3IDEyLjUwMDJaIiBzdHJva2U9IiNEMkQyRDIiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjc4XzEzODY5Ij4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=\"","export default __webpack_public_path__ + \"static/logo-short-1bc27782bd51e8a2c1a14d4b9578bf31.png\";","import React, { useContext, useState, useEffect } from 'react';\nimport { Link } from 'gatsby';\n\nimport { UserContext } from '../utils/UserContext';\n\nimport logo from '../assets/img/logo-short.png';\n// Custom info icon component\nconst InfoIcon = () => (\n  <svg\n    width='24'\n    height='24'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <circle cx='12' cy='12' r='10' stroke='currentColor' strokeWidth='1.5' fill='none' />\n    <circle cx='12' cy='9' r='1' fill='currentColor' />\n    <path d='M11 12h2v5h-2z' fill='currentColor' />\n  </svg>\n);\n\nconst BarGraphIcon = () => (\n  <svg\n    width='24'\n    height='24'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <rect x='3' y='10' width='4' height='8' rx='1' fill='currentColor' />\n    <rect x='9' y='6' width='4' height='12' rx='1' fill='currentColor' />\n    <rect x='15' y='13' width='4' height='5' rx='1' fill='currentColor' />\n  </svg>\n);\n\nconst GridIcon = () => (\n  <svg\n    width='24'\n    height='24'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <rect x='3' y='3' width='8' height='8' rx='1.5' fill='currentColor' />\n    <rect x='13' y='3' width='8' height='8' rx='1.5' fill='currentColor' />\n    <rect x='3' y='13' width='8' height='8' rx='1.5' fill='currentColor' />\n    <rect x='13' y='13' width='8' height='8' rx='1.5' fill='currentColor' />\n  </svg>\n);\n\nconst Modal = ({ open, onClose, children }) => {\n  useEffect(() => {\n    const preventDefault = (e) => {\n      e.preventDefault();\n    };\n\n    if (open) {\n      // Prevent scrolling by blocking wheel and touch events\n      document.addEventListener('wheel', preventDefault, { passive: false });\n      document.addEventListener('touchmove', preventDefault, { passive: false });\n    }\n\n    // Cleanup function to remove event listeners\n    return () => {\n      document.removeEventListener('wheel', preventDefault);\n      document.removeEventListener('touchmove', preventDefault);\n    };\n  }, [open]);\n\n  if (!open) return null;\n  return (\n    <div className='modal-overlay' onClick={onClose}>\n      <div\n        className='modal-content bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100'\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          className='modal-close text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200'\n          onClick={onClose}\n          aria-label='Close'\n        >\n          &times;\n        </button>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst TopBar = () => {\n  const {\n    setReturnLearn,\n    completedClues = [],\n    streak = 0,\n    longestStreak = 0,\n    darkMode,\n    setDarkMode,\n  } = useContext(UserContext);\n  const [helpOpen, setHelpOpen] = useState(false);\n  const [statsOpen, setStatsOpen] = useState(false);\n\n  const clickTitle = () => {\n    setReturnLearn(false);\n  };\n\n  // Stats calculations\n  const totalSolved = completedClues.length;\n  const avgGuesses =\n    totalSolved > 0\n      ? (completedClues.reduce((sum, c) => sum + (c.guesses || 0), 0) / totalSolved).toFixed(1)\n      : '0';\n  const avgHints =\n    totalSolved > 0\n      ? (completedClues.reduce((sum, c) => sum + (c.hints || 0), 0) / totalSolved).toFixed(1)\n      : '0';\n\n  return (\n    <>\n      <header className='top-bar bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700'>\n        <div className='top-bar-container lc-container'>\n          <div className='topbar-left'>\n            <Link\n              to='/clues'\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='All clues'\n            >\n              <GridIcon />\n            </Link>\n            <button\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='Stats'\n              onClick={() => setStatsOpen(true)}\n            >\n              <BarGraphIcon />\n            </button>\n            <button\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='Help'\n              onClick={() => setHelpOpen(true)}\n            >\n              <InfoIcon />\n            </button>\n          </div>\n          <Link to='/' onClick={clickTitle} className='topbar-logo'>\n            <img src={logo} alt='' />\n          </Link>\n        </div>\n      </header>\n      <Modal id='modal-info' open={helpOpen} onClose={() => setHelpOpen(false)}>\n        <div className='mt-6'>\n          <h3 className='font-semibold mb-3'>Theme</h3>\n          <div className='flex mb-4'>\n            <div className='flex theme-picker-bg rounded-lg p-1 gap-1'>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === null}\n                  onChange={() => setDarkMode(null)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === null\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  System\n                </span>\n              </label>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === false}\n                  onChange={() => setDarkMode(false)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === false\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  Light\n                </span>\n              </label>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === true}\n                  onChange={() => setDarkMode(true)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === true\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  Dark\n                </span>\n              </label>\n            </div>\n          </div>\n          <div className='mt-4 border-t border-neutral-200 dark:border-neutral-600 pt-4'>\n            <p>\n              <Link to='/learn' className='underline'>\n                What are cryptics?\n              </Link>\n            </p>\n\n            <p className='mt-4'>\n              <Link to='/creators' className='underline'>\n                About us\n              </Link>\n            </p>\n          </div>\n\n          <div className='mt-4 border-t border-neutral-200 dark:border-neutral-600 pt-4'>\n            <p>\n              Have questions, comments, or want to contribute future cryptic clues?\n              <a\n                href='mailto:learncrypticgame@gmail.com?subject=Learn Cryptic Feedback'\n                className='underline mt-2 block'\n              >\n                Email us\n              </a>\n            </p>\n          </div>\n        </div>\n      </Modal>\n      <Modal id='modal-stats' open={statsOpen} onClose={() => setStatsOpen(false)}>\n        <h2 className='my-3 text-xl font-semibold'>Statistics</h2>\n        <div className='stats-list'>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Current Streak:</span> {streak}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Longest Streak:</span> {longestStreak}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Clues solved:</span> {totalSolved}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Avg guesses:</span> {avgGuesses}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Avg hints:</span> {avgHints}\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default TopBar;\n","import { useEffect } from 'react'\nimport { useLocation } from '@reach/router'\n\nconst ScrollToTop = () => {\n\tconst { pathname } = useLocation()\n\n\tuseEffect(() => {\n\t\t// Use instant scroll and target multiple elements for iOS Safari compatibility\n\t\twindow.scrollTo(0, 0)\n\t\tdocument.documentElement.scrollTop = 0\n\t\tdocument.body.scrollTop = 0\n\t}, [pathname])\n\n\treturn null\n}\n\nexport default ScrollToTop\n","import React from 'react'\nimport TopBar from './TopBar'\nimport ScrollToTop from './ScrollToTop'\n\nconst Layout = ({ children }) => {\n\treturn (\n\t\t<div className=\"min-h-screen bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 transition-colors duration-200 flex flex-col\">\n\t\t\t<ScrollToTop />\n\t\t\t<TopBar />\n\t\t\t<main className=\"flex-1\">{children}</main>\n\t\t</div>\n\t)\n}\n\nexport default Layout\n\nexport { Head } from './Head'\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Button = ({ btnInfo }) => {\n\n\tconst { path = false, name, style, onClick, img = false, disabled = false } = btnInfo\n\n\t// Add dark mode classes based on button style\n\tconst getDarkModeClasses = (style) => {\n\t\tswitch(style) {\n\t\t\tcase 'primary':\n\t\t\t\treturn 'dark:!bg-[rgb(120,70,45)] dark:!border-[rgb(120,70,45)] dark:hover:!bg-orange-600'\n\t\t\tcase 'alt':\n\t\t\t\treturn 'dark:!bg-[#4A3F6B] dark:!border-[#4A3F6B] dark:hover:!bg-purple-600'\n\t\t\tcase 'secondary':\n\t\t\t\treturn 'dark:!border-neutral-300 dark:hover:!bg-neutral-700 dark:hover:!border-neutral-700'\n\t\t\tcase 'gray':\n\t\t\t\treturn 'dark:!bg-neutral-600 dark:!border-neutral-600 dark:hover:!bg-neutral-700'\n\t\t\tdefault:\n\t\t\t\treturn ''\n\t\t}\n\t}\n\n\tconst darkModeClasses = getDarkModeClasses(style)\n\n\treturn(<>\n\t\t{path ?\n\t\t\t<Link to={path} id={name.toLowerCase()} data-testid={name.toLowerCase()} className={`show-btn ${style} ${darkModeClasses} ${disabled ? 'disabled' : ''}`} type='button' onClick={disabled ? undefined : onClick}>{name}</Link> :\n\t\t\t<button id={name.toLowerCase()} data-testid={name.toLowerCase()} className={`show-btn ${style} ${darkModeClasses} ${disabled ? 'disabled' : ''}`} type='button' disabled={disabled} onClick={disabled ? undefined : onClick}>{name}{img}</button>\n\t\t}\n\t</>)\n}\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst ButtonContainer = ({ btnArr, isSolution, stack = false }) => {\n\n\tconst buttons = btnArr.map((btnInfo, index) => <Button key={index} btnInfo={btnInfo} />)\n\n\treturn (\n\t\t<div className={`button-container${stack ? ' stack' : ''}${isSolution ? ' solution' : ''}`}>\n\t\t\t{buttons}\n\t\t</div>\n\t)\n}\n\nexport default ButtonContainer","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDwhLS0gRmlyc3QgQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjI1IiBjeT0iMjUiIHI9IjIwIiBmaWxsPSIjZTM1OTUyIiAvPgogIDwhLS0gU2Vjb25kIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSI3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI2UzNTk1MiIgLz4KICA8IS0tIFRoaXJkIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxMjUiIGN5PSIyNSIgcj0iMjAiIGZpbGw9IiNlMzU5NTIiIC8+CiAgPCEtLSBGb3VydGggQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjE3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI2UzNTk1MiIgLz4KPC9zdmc+Cg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDwhLS0gRmlyc3QgQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjI1IiBjeT0iMjUiIHI9IjIwIiBmaWxsPSIjYjBkMjM2IiAvPgogIDwhLS0gU2Vjb25kIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSI3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI0UyRTJFMiIgLz4KICA8IS0tIFRoaXJkIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxMjUiIGN5PSIyNSIgcj0iMjAiIGZpbGw9IiNFMkUyRTIiIC8+CiAgPCEtLSBGb3VydGggQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjE3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI0UyRTJFMiIgLz4KPC9zdmc+Cg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDwhLS0gRmlyc3QgQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjI1IiBjeT0iMjUiIHI9IjIwIiBmaWxsPSIjZmZkYzdhIiAvPgogIDwhLS0gU2Vjb25kIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSI3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI2ZmZGM3YSIgLz4KICA8IS0tIFRoaXJkIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxMjUiIGN5PSIyNSIgcj0iMjAiIGZpbGw9IiNFMkUyRTIiIC8+CiAgPCEtLSBGb3VydGggQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjE3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI0UyRTJFMiIgLz4KPC9zdmc+Cg==\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDwhLS0gRmlyc3QgQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjI1IiBjeT0iMjUiIHI9IjIwIiBmaWxsPSIjZWI5NTYwIiAvPgogIDwhLS0gU2Vjb25kIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSI3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI2ViOTU2MCIgLz4KICA8IS0tIFRoaXJkIENpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxMjUiIGN5PSIyNSIgcj0iMjAiIGZpbGw9IiNlYjk1NjAiIC8+CiAgPCEtLSBGb3VydGggQ2lyY2xlIC0tPgogIDxjaXJjbGUgY3g9IjE3NSIgY3k9IjI1IiByPSIyMCIgZmlsbD0iI0UyRTJFMiIgLz4KPC9zdmc+Cg==\""],"names":["_ref","handleInput","onEnter","canCheckAnswer","useEffect","handleKeyDown","e","test","key","toUpperCase","document","addEventListener","removeEventListener","React","className","onClick","undefined","id","src","alt","_useState2","_slicedToArray","useState","particles","setParticles","_useState4","x","y","origin","setOrigin","solBox","getElementById","rect","getBoundingClientRect","centerX","left","width","window","innerWidth","centerY","top","height","innerHeight","viewportWidth","velocityScale","newParticles","Array","from","length","_","i","angleRad","Math","random","PI","velocity","endX","cos","verticalScale","burstY","sin","gravity","delay","duration","size","color","rotation","timeout","setTimeout","clearTimeout","map","particle","concat","style","animationDelay","animationDuration","hint","aAn","category","slice","includes","type","value","end","messageButton","activeClue","nextHint","input","checkAns","isCorrectAns","isSolution","returnLearn","buttons","showLogic","msgContainer","setShowLogic","useRef","message","join","getMessage","hints","explainer","isTodayClue","date1","Date","release","date2","d1","getFullYear","getMonth","getDate","d2","getTime","checkIsTodayClue","endClueShowLogic","shareScore","endClueHint","endClueGuess","reveals","nextLogic","messageStyle","ref","Celebration","ButtonContainer","btnArr","stack","t","r","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","setNextHint","setInput","setShowMessage","stats","setStats","addCompletedClue","setReturnLearn","setCheckAns","_callee","date","dateFormatted","perfectEmojis","emoji","scoreText","_t","_t2","_context","Intl","DateTimeFormat","month","day","year","format","guesses","floor","clid","trim","navigator","userAgent","share","title","text","console","log","name","error","alert","clipboard","writeText","arguments","apply","_next","_throw","showHint","prevStats","_objectSpread","revealSolution","checkAnswer","_activeClue$source","_activeClue$source$re","solution","arr","source","current","classList","add","continue","path","how","img","xmlns","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","viewBox","cx","cy","x1","y1","x2","y2","_activeClue$hints$sta","startHint","_activeClue$hints$nex","next","allPositionsFilled","every","index","showMessage","revealedLetters","_prepBottom","prepBottom","Message","Keyboard","matchType","useStaticQuery","allTypeJson","nodes","find","role","description","example","letters","isArray","targetLettersStart","strSlice","freshValue","clue","replace","freshValueIndex","indexOf","targetLettersStartArr","val","clueLetters","forEach","push","_toConsumableArray","h","addLetters","charArr","specialChar","split","filter","char","textContent","positionLetters","anchor","fix","moving","anchorUsed","position","currentDestLetter","destLetter","removeAnchor","round","Number","endPt","prevHint","solIndex","removeSpecial","prevHints","skipCats","rightValue","possibleSplits","anchorSplit","hIndex","foundSplit","joinIndex","indicatorMatch","logSplits","doubleHints","splice","anchorOther","hend","_hint$fix$anchorOther","thisMatch","_hint$fix$anchorOther2","movingLStart","movingLLength","movingRStart","movingRLength","movingSplit","movingOther","some","flat","reverse","wordWidth","reduce","total","ltr","word","dataClue","structuredClone","getSolutionLetters","creator","creators","nom","href","link","flatMap","obj","unshift","definition","createRef","sectionRef","spoon","getTargetLetters","requestAnimationFrame","fixList","fixLetters","defintionLettersRef","indicatedLettersRef","recheck","getCSSVariable","variable","getComputedStyle","documentElement","getPropertyValue","backgroundColor","getBackgroundColor","toChange","getColor","opacity","movingLettersRef","destLettersRef","timing","destIndex","findIndex","textTransform","transition","underlineLetters","highlightLetters","changeColor","moveLetters","delIndex","oddOnly","evenOnly","firstLetters","wrd","pop","startLetter","usedAnchor","err","_useState6","_useState8","_useState0","_useState10","_useState12","setRevealedLetters","_useState14","showRevealPrompt","setShowRevealPrompt","_useState16","revealPromptIndex","setRevealPromptIndex","handleHint","press","revealedLettersParam","prevInput","insertPos","newInput","deletePos","lastIndex","handleRevealLetter","newRevealedLetters","sort","b","currentPos","prev","handleSquareClick","data","cluesJson","showDifficultyTooltip","setShowDifficultyTooltip","revealPopupPosition","setRevealPopupPosition","revealPopupRef","body","remove","gtag","difficulty","streak","getDifficultyText","_useContext","useContext","UserContext","showType","setShowType","prepClue","_manageClue","manageClue","element","handleClickOutside","contains","target","pillList","Tooltip","typeInsert","statsInsert","clueInsert","letter","addInsert","parentIndex","lettersInsert","childIndex","addBr","br","flexBasis","addSpoon","wordRef","cursorPosition","getCursorPosition","solInsert","isActive","isRevealed","isEmpty","wouldBeLastLetter","canReveal","cursor","squareStyle","borderWidth","pointerEvents","onKeyDown","preventDefault","tabIndex","solLength","sourceInsert","rel","Layout","onMouseEnter","onMouseLeave","d3","d4","getImg","Bottom","transform","zIndex","display","flexDirection","alignItems","padding","margin","fontSize","borderRadius","border","Head","_ref2","clueDate","toLocaleDateString","content","JSON","stringify","InfoIcon","BarGraphIcon","rx","GridIcon","Modal","open","onClose","children","passive","stopPropagation","_useContext$completed","completedClues","_useContext$streak","_useContext$longestSt","longestStreak","darkMode","setDarkMode","helpOpen","setHelpOpen","statsOpen","setStatsOpen","totalSolved","avgGuesses","sum","toFixed","avgHints","Link","to","logo","checked","onChange","pathname","useLocation","scrollTo","scrollTop","ScrollToTop","TopBar","btnInfo","_btnInfo$path","_btnInfo$img","_btnInfo$disabled","disabled","darkModeClasses","getDarkModeClasses","toLowerCase","_ref$stack","Button"],"sourceRoot":""}