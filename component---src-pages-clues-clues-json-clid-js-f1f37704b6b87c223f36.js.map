{"version":3,"file":"component---src-pages-clues-clues-json-clid-js-f1f37704b6b87c223f36.js","mappings":"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","sources":["webpack://learn-cryptic/./src/assets/img/logo-short.png","webpack://learn-cryptic/./src/components/TopBar.js","webpack://learn-cryptic/./src/components/ScrollToTop.js","webpack://learn-cryptic/./src/components/layout.js","webpack://learn-cryptic/./src/components/bottom/Button.js","webpack://learn-cryptic/./src/components/bottom/ButtonContainer.js","webpack://learn-cryptic/./src/components/bottom/Keyboard.js","webpack://learn-cryptic/./src/assets/img/backspace.svg","webpack://learn-cryptic/./src/components/bottom/Celebration.js","webpack://learn-cryptic/./src/utils/bottom/getMessage.js","webpack://learn-cryptic/./src/components/bottom/Message.js","webpack://learn-cryptic/./src/utils/bottom/prepBottom.js","webpack://learn-cryptic/./src/components/Bottom.js","webpack://learn-cryptic/./src/components/Tooltip.js","webpack://learn-cryptic/./src/utils/clue/getTargetLetters.js","webpack://learn-cryptic/./src/utils/clue/removeSpecialChar.js","webpack://learn-cryptic/./src/utils/clue/fixLetters.js","webpack://learn-cryptic/./src/utils/clue/addLetters.js","webpack://learn-cryptic/./src/utils/clue/usePrepClue.js","webpack://learn-cryptic/./src/utils/clue/underlineLetters.js","webpack://learn-cryptic/./src/utils/clue/highlightLetters.js","webpack://learn-cryptic/./src/utils/clue/changeColor.js","webpack://learn-cryptic/./src/utils/clue/moveLetters.js","webpack://learn-cryptic/./src/utils/clue/handleHint.js","webpack://learn-cryptic/./src/utils/clue/useManageClue.js","webpack://learn-cryptic/./src/pages/clues/{cluesJson.clid}.js"],"sourcesContent":["export default __webpack_public_path__ + \"static/logo-short-1bc27782bd51e8a2c1a14d4b9578bf31.png\";","import React, { useContext, useState, useEffect } from 'react';\nimport { Link } from 'gatsby';\n\nimport { UserContext } from '../utils/UserContext';\n\nimport logo from '../assets/img/logo-short.png';\n// Custom info icon component\nconst InfoIcon = () => (\n  <svg\n    width='20'\n    height='20'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <circle cx='12' cy='12' r='10' stroke='currentColor' strokeWidth='1.5' fill='none' />\n    <circle cx='12' cy='9' r='1' fill='currentColor' />\n    <path d='M11 12h2v5h-2z' fill='currentColor' />\n  </svg>\n);\n\nconst BarGraphIcon = () => (\n  <svg\n    width='20'\n    height='20'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <rect x='3' y='9' width='3' height='12' rx='1' fill='currentColor' />\n    <rect x='10.5' y='3' width='3' height='18' rx='1' fill='currentColor' />\n    <rect x='18' y='12' width='3' height='9' rx='1' fill='currentColor' />\n  </svg>\n);\n\nconst ListIcon = () => (\n  <svg\n    width='20'\n    height='20'\n    viewBox='0 0 24 24'\n    fill='none'\n    xmlns='http://www.w3.org/2000/svg'\n    className='text-neutral-500 dark:text-neutral-200'\n  >\n    <rect x='3' y='3' width='3' height='3' rx='1' fill='currentColor' />\n    <rect x='3' y='10.5' width='3' height='3' rx='1' fill='currentColor' />\n    <rect x='3' y='18' width='3' height='3' rx='1' fill='currentColor' />\n    <rect x='8' y='3' width='13' height='3' rx='1' fill='currentColor' />\n    <rect x='8' y='10.5' width='13' height='3' rx='1' fill='currentColor' />\n    <rect x='8' y='18' width='13' height='3' rx='1' fill='currentColor' />\n  </svg>\n);\n\nconst Modal = ({ open, onClose, children }) => {\n  useEffect(() => {\n    const preventDefault = (e) => {\n      e.preventDefault();\n    };\n\n    if (open) {\n      // Prevent scrolling by blocking wheel and touch events\n      document.addEventListener('wheel', preventDefault, { passive: false });\n      document.addEventListener('touchmove', preventDefault, { passive: false });\n    }\n\n    // Cleanup function to remove event listeners\n    return () => {\n      document.removeEventListener('wheel', preventDefault);\n      document.removeEventListener('touchmove', preventDefault);\n    };\n  }, [open]);\n\n  if (!open) return null;\n  return (\n    <div className='modal-overlay' onClick={onClose}>\n      <div\n        className='modal-content bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100'\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          className='modal-close text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200'\n          onClick={onClose}\n          aria-label='Close'\n        >\n          &times;\n        </button>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst TopBar = () => {\n  const {\n    setReturnLearn,\n    completedClues = [],\n    streak = 0,\n    longestStreak = 0,\n    darkMode,\n    setDarkMode,\n    currentStats,\n  } = useContext(UserContext);\n  const [helpOpen, setHelpOpen] = useState(false);\n  const [statsOpen, setStatsOpen] = useState(false);\n  const [showCurrentStatsTooltip, setShowCurrentStatsTooltip] = useState(false);\n\n  const clickTitle = () => {\n    setReturnLearn(false);\n  };\n\n  // Stats calculations\n  const totalSolved = completedClues.length;\n  const avgGuesses =\n    totalSolved > 0\n      ? (completedClues.reduce((sum, c) => sum + (c.guesses || 0), 0) / totalSolved).toFixed(1)\n      : '0';\n  const avgHints =\n    totalSolved > 0\n      ? (completedClues.reduce((sum, c) => sum + (c.hints || 0), 0) / totalSolved).toFixed(1)\n      : '0';\n\n  return (\n    <>\n      <header className='top-bar bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700'>\n        <div className='top-bar-container lc-container'>\n          <div className='topbar-left'>\n            <Link\n              to='/clues'\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='All clues'\n            >\n              <ListIcon />\n            </Link>\n            <button\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='Stats'\n              onClick={() => setStatsOpen(true)}\n            >\n              <BarGraphIcon />\n            </button>\n            <button\n              className='icon-btn hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg p-2 transition-colors'\n              aria-label='Help'\n              onClick={() => setHelpOpen(true)}\n            >\n              <InfoIcon />\n            </button>\n            {currentStats && (\n              <div\n                className='current-stats bg-neutral-200 dark:bg-neutral-600 dark:text-white'\n                onMouseEnter={() => setShowCurrentStatsTooltip(true)}\n                onMouseLeave={() => setShowCurrentStatsTooltip(false)}\n                onClick={() => setShowCurrentStatsTooltip(!showCurrentStatsTooltip)}\n                role='button'\n                tabIndex={0}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    setShowCurrentStatsTooltip(!showCurrentStatsTooltip);\n                  }\n                }}\n              >\n                <span className='stat'>{currentStats.hints}</span>\n                <span className='stat-separator'>:</span>\n                <span className='stat'>{currentStats.guesses}</span>\n                {showCurrentStatsTooltip && (\n                  <div className='current-stats-tooltip'>\n                    {currentStats.hints} {currentStats.hints === 1 ? 'hint' : 'hints'}, {currentStats.guesses} {currentStats.guesses === 1 ? 'guess' : 'guesses'}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n          <Link to='/' onClick={clickTitle} className='topbar-logo'>\n            <img src={logo} alt='' />\n          </Link>\n        </div>\n      </header>\n      <Modal id='modal-info' open={helpOpen} onClose={() => setHelpOpen(false)}>\n        <div className='mt-6'>\n          <h3 className='font-semibold mb-3'>Theme</h3>\n          <div className='flex mb-4'>\n            <div className='flex theme-picker-bg rounded-lg p-1 gap-1'>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === null}\n                  onChange={() => setDarkMode(null)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === null\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  System\n                </span>\n              </label>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === false}\n                  onChange={() => setDarkMode(false)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === false\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  Light\n                </span>\n              </label>\n              <label className='flex items-center cursor-pointer'>\n                <input\n                  type='radio'\n                  name='theme'\n                  checked={darkMode === true}\n                  onChange={() => setDarkMode(true)}\n                  className='sr-only'\n                />\n                <span\n                  className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                    darkMode === true\n                      ? 'bg-white dark:bg-neutral-600 text-neutral-900 dark:text-white shadow-sm'\n                      : 'text-neutral-600 dark:text-neutral-200 hover:text-neutral-900 dark:hover:text-white'\n                  }`}\n                >\n                  Dark\n                </span>\n              </label>\n            </div>\n          </div>\n          <div className='mt-4 border-t border-neutral-200 dark:border-neutral-600 pt-4'>\n            <p>\n              <Link to='/learn' className='underline'>\n                What are cryptics?\n              </Link>\n            </p>\n\n            <p className='mt-4'>\n              <Link to='/creators' className='underline'>\n                About us\n              </Link>\n            </p>\n          </div>\n\n          <div className='mt-4 border-t border-neutral-200 dark:border-neutral-600 pt-4'>\n            <p>\n              Have questions, comments, or want to contribute future cryptic clues?\n              <a\n                href='mailto:learncrypticgame@gmail.com?subject=Learn Cryptic Feedback'\n                className='underline mt-2 block'\n              >\n                Email us\n              </a>\n            </p>\n          </div>\n        </div>\n      </Modal>\n      <Modal id='modal-stats' open={statsOpen} onClose={() => setStatsOpen(false)}>\n        <h2 className='my-3 text-xl font-semibold'>Statistics</h2>\n        <div className='stats-list'>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Current Streak:</span> {streak}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Longest Streak:</span> {longestStreak}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Clues solved:</span> {totalSolved}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Avg guesses:</span> {avgGuesses}\n          </div>\n          <div className='stat-item'>\n             <span className='font-medium mx-1'>Avg hints:</span> {avgHints}\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default TopBar;\n","import { useEffect } from 'react'\nimport { useLocation } from '@reach/router'\n\nconst ScrollToTop = () => {\n\tconst { pathname } = useLocation()\n\n\tuseEffect(() => {\n\t\t// Use instant scroll and target multiple elements for iOS Safari compatibility\n\t\twindow.scrollTo(0, 0)\n\t\tdocument.documentElement.scrollTop = 0\n\t\tdocument.body.scrollTop = 0\n\t}, [pathname])\n\n\treturn null\n}\n\nexport default ScrollToTop\n","import React from 'react'\nimport TopBar from './TopBar'\nimport ScrollToTop from './ScrollToTop'\n\nconst Layout = ({ children }) => {\n\treturn (\n\t\t<div className=\"min-h-screen bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 transition-colors duration-200 flex flex-col\">\n\t\t\t<ScrollToTop />\n\t\t\t<TopBar />\n\t\t\t<main className=\"flex-1\">{children}</main>\n\t\t</div>\n\t)\n}\n\nexport default Layout\n\nexport { Head } from './Head'\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Button = ({ btnInfo }) => {\n\n\tconst { path = false, name, style, onClick, img = false, disabled = false } = btnInfo\n\n\t// Add dark mode classes based on button style\n\tconst getDarkModeClasses = (style) => {\n\t\tswitch(style) {\n\t\t\tcase 'primary':\n\t\t\t\treturn 'dark:!bg-[rgb(120,70,45)] dark:!border-[rgb(120,70,45)] dark:hover:!bg-orange-600'\n\t\t\tcase 'alt':\n\t\t\t\treturn 'dark:!bg-[#4A3F6B] dark:!border-[#4A3F6B] dark:hover:!bg-purple-600'\n\t\t\tcase 'secondary':\n\t\t\t\treturn 'dark:!border-neutral-300 dark:hover:!bg-neutral-700 dark:hover:!border-neutral-700'\n\t\t\tcase 'gray':\n\t\t\t\treturn 'dark:!bg-neutral-600 dark:!border-neutral-600 dark:hover:!bg-neutral-700'\n\t\t\tdefault:\n\t\t\t\treturn ''\n\t\t}\n\t}\n\n\tconst darkModeClasses = getDarkModeClasses(style)\n\n\treturn(<>\n\t\t{path ?\n\t\t\t<Link to={path} id={name.toLowerCase()} data-testid={name.toLowerCase()} className={`show-btn ${style} ${darkModeClasses} ${disabled ? 'disabled' : ''}`} type='button' onClick={disabled ? undefined : onClick}>{name}</Link> :\n\t\t\t<button id={name.toLowerCase()} data-testid={name.toLowerCase()} className={`show-btn ${style} ${darkModeClasses} ${disabled ? 'disabled' : ''}`} type='button' disabled={disabled} onClick={disabled ? undefined : onClick}>{name}{img}</button>\n\t\t}\n\t</>)\n}\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst ButtonContainer = ({ btnArr, isSolution, stack = false }) => {\n\n\tconst buttons = btnArr.map((btnInfo, index) => <Button key={index} btnInfo={btnInfo} />)\n\n\treturn (\n\t\t<div className={`button-container${stack ? ' stack' : ''}${isSolution ? ' solution' : ''}`}>\n\t\t\t{buttons}\n\t\t</div>\n\t)\n}\n\nexport default ButtonContainer","import React, { useEffect } from 'react'\n\nimport backspace from '../../assets/img/backspace.svg'\n\nconst Keyboard = ({ handleInput, onEnter, canCheckAnswer }) => {\n\t// handle keyboard hardware press\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e) => {\n\t\t\tif (/^[a-zA-Z]$/.test(e.key)) {\n\t\t\t\thandleInput(e.key.toUpperCase())\n\t\t\t} else if (e.key === 'Backspace' || e.key === 'Delete') {\n\t\t\t\thandleInput('del')\n\t\t\t} else if (e.key === 'Enter' && canCheckAnswer) {\n\t\t\t\tonEnter()\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDown)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyDown)\n\t\t}\n\t}, [handleInput, onEnter, canCheckAnswer])\n\n\treturn (\n\t\t<div className='lc-container keyboard'>\n\t\t\t<div className='k-row k-row-1'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Q')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Q'\n\t\t\t\t>\n\t\t\t\t\t<span>Q</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('W')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-W'\n\t\t\t\t>\n\t\t\t\t\t<span>W</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('E')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-E'\n\t\t\t\t>\n\t\t\t\t\t<span>E</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('R')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-R'\n\t\t\t\t>\n\t\t\t\t\t<span>R</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('T')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-T'\n\t\t\t\t>\n\t\t\t\t\t<span>T</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Y')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Y'\n\t\t\t\t>\n\t\t\t\t\t<span>Y</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('U')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-U'\n\t\t\t\t>\n\t\t\t\t\t<span>U</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('I')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-I'\n\t\t\t\t>\n\t\t\t\t\t<span>I</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('O')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-O'\n\t\t\t\t>\n\t\t\t\t\t<span>O</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('P')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-P'\n\t\t\t\t>\n\t\t\t\t\t<span>P</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='k-row k-row-2'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('A')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-A'\n\t\t\t\t>\n\t\t\t\t\t<span>A</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('S')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-S'\n\t\t\t\t>\n\t\t\t\t\t<span>S</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('D')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-D'\n\t\t\t\t>\n\t\t\t\t\t<span>D</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('F')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-F'\n\t\t\t\t>\n\t\t\t\t\t<span>F</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('G')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-G'\n\t\t\t\t>\n\t\t\t\t\t<span>G</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('H')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-H'\n\t\t\t\t>\n\t\t\t\t\t<span>H</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('J')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-J'\n\t\t\t\t>\n\t\t\t\t\t<span>J</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('K')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-K'\n\t\t\t\t>\n\t\t\t\t\t<span>K</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('L')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-L'\n\t\t\t\t>\n\t\t\t\t\t<span>L</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='k-row k-row-3'>\n\t\t\t\t<button\n\t\t\t\t\tonClick={canCheckAnswer ? onEnter : undefined}\n\t\t\t\t\tid='enter-key'\n\t\t\t\t\tclassName={canCheckAnswer\n\t\t\t\t\t\t? 'bg-[#FFCBAB] dark:!bg-[rgb(120,70,45)] dark:!text-neutral-100 hover:bg-[#f5c1a1] hover:dark:!bg-[rgb(110,65,42)]'\n\t\t\t\t\t\t: 'bg-neutral-200 dark:!bg-neutral-700 text-neutral-400 dark:!text-neutral-500 cursor-default'}\n\t\t\t\t\tdata-testid='keyboard-ENTER'\n\t\t\t\t>\n\t\t\t\t\t<span>Enter</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('Z')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-Z'\n\t\t\t\t>\n\t\t\t\t\t<span>Z</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('X')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-X'\n\t\t\t\t>\n\t\t\t\t\t<span>X</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('C')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-C'\n\t\t\t\t>\n\t\t\t\t\t<span>C</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('V')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-V'\n\t\t\t\t>\n\t\t\t\t\t<span>V</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('B')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-B'\n\t\t\t\t>\n\t\t\t\t\t<span>B</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('N')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-N'\n\t\t\t\t>\n\t\t\t\t\t<span>N</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('M')}\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-M'\n\t\t\t\t>\n\t\t\t\t\t<span>M</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => handleInput('del')}\n\t\t\t\t\tid='backspace'\n\t\t\t\t\tclassName='bg-neutral-300 dark:!bg-neutral-600 dark:!text-neutral-100 hover:bg-neutral-400 hover:dark:!bg-neutral-500'\n\t\t\t\t\tdata-testid='keyboard-DEL'\n\t\t\t\t>\n\t\t\t\t\t<img src={backspace} alt='backspace' className='dark:invert' />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Keyboard\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNSAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjA0NzQ0IDNIMjEuNjg5QzIzLjI0ODYgMyAyNC41IDQuMjMxMTcgMjQuNSA1LjczNjg0VjE4LjI2MzJDMjQuNSAxOS43Njg4IDIzLjI0ODYgMjEgMjEuNjg5IDIxSDguMDQ3NDRDNy4wOTk1MyAyMSA2LjI5MjA0IDIwLjUzNiA1Ljc2MzcxIDE5Ljc3MDZMMC41IDExLjk5NTVMNS43Njg1OCA0LjIxMzI5QzYuMjkwNTEgMy40NTczIDcuMDk5MjIgMyA4LjA0NzQ0IDNaTTIyLjUxNjggNS43MzY2M0MyMi41MTY4IDUuMjY0OTQgMjIuMTQwMyA0Ljg5NDUzIDIxLjY5MDEgNC44OTQ1M0g4LjA0ODUxQzcuNzk5ODUgNC44OTQ1MyA3LjU5NjM2IDUuMDA5NiA3LjQzMTEzIDUuMjQ4ODVMMi44NjM4MiAxMS45OTUzTDIuNTE1NjIgMTEuNDgxVjEyLjUwOTZMMi44NjM4MiAxMS45OTUzTDcuNDI2MjYgMTguNzM0NkM3LjYwMDI1IDE4Ljk4NjYgNy44MDYyNSAxOS4xMDUgOC4wNDg1MSAxOS4xMDVIMjEuNjkwMUMyMi4xNDAzIDE5LjEwNSAyMi41MTY4IDE4LjczNDYgMjIuNTE2OCAxOC4yNjI5VjUuNzM2NjNaIiBmaWxsPSIjNDc0NzQ3Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDQ2NSAxNS4wMTI4TDE3LjczNDQgMTYuMjYzOUwxNC40MSAxMy4wOTQxTDExLjA4NTYgMTYuMjYzOUw5Ljc3MzQ0IDE1LjAxMjhMMTMuMDk3OCAxMS44NDI5TDkuNzczNDQgOC42NzMwM0wxMS4wODU2IDcuNDIxODhMMTQuNDEgMTAuNTkxOEwxNy43MzQ0IDcuNDIxODhMMTkuMDQ2NSA4LjY3MzAzTDE1LjcyMjEgMTEuODQyOUwxOS4wNDY1IDE1LjAxMjhaIiBmaWxsPSIjNDc0NzQ3Ii8+Cjwvc3ZnPgo=\"","import React, { useEffect, useState } from 'react'\n\nconst Celebration = () => {\n\tconst [particles, setParticles] = useState([])\n\tconst [origin, setOrigin] = useState({ x: 50, y: 50 })\n\n\tuseEffect(() => {\n\t\t// Find the solution box and get its center position\n\t\tconst solBox = document.getElementById('solSectionRef')\n\t\tif (solBox) {\n\t\t\tconst rect = solBox.getBoundingClientRect()\n\t\t\tconst centerX = ((rect.left + rect.width / 2) / window.innerWidth) * 100\n\t\t\tconst centerY = ((rect.top + rect.height / 2) / window.innerHeight) * 100\n\t\t\tsetOrigin({ x: centerX, y: centerY })\n\t\t}\n\n\t\t// Generate particles that explode outward then fall with gravity\n\t\t// Scale down velocity on wider screens so desktop matches mobile feel\n\t\tconst viewportWidth = window.innerWidth\n\t\tconst velocityScale = viewportWidth > 768 ? 600 / viewportWidth : 1\n\n\t\tconst newParticles = Array.from({ length: 45 }, (_, i) => {\n\t\t\t// Split into left side (180-260) and right side (280-360) to avoid straight up\n\t\t\tconst side = Math.random() > 0.5 ? 'left' : 'right'\n\t\t\tconst angle = side === 'left'\n\t\t\t\t? 180 + Math.random() * 80   // 180-260 degrees\n\t\t\t\t: 280 + Math.random() * 80   // 280-360 degrees\n\t\t\tconst angleRad = angle * (Math.PI / 180)\n\n\t\t\t// Random velocity (how far the initial burst goes)\n\t\t\tconst velocity = (15 + Math.random() * 25) * velocityScale\n\n\t\t\t// Horizontal movement\n\t\t\tconst endX = Math.cos(angleRad) * velocity * 1.0\n\n\t\t\t// Initial vertical burst - reduce on mobile since viewport height is smaller\n\t\t\tconst verticalScale = viewportWidth > 768 ? 1.0 : 0.7\n\t\t\tconst burstY = Math.sin(angleRad) * velocity * verticalScale\n\n\t\t\t// Gravity pulls everything down - adds to final Y position\n\t\t\tconst gravity = 40 + Math.random() * 30\n\n\t\t\treturn {\n\t\t\t\tid: i,\n\t\t\t\tendX,\n\t\t\t\tburstY,\n\t\t\t\tgravity,\n\t\t\t\tdelay: Math.random() * 0.08,\n\t\t\t\tduration: 1.0 + Math.random() * 0.4,\n\t\t\t\tsize: 5 + Math.random() * 6,\n\t\t\t\tcolor: Math.random() > 0.5 ? 'primary' : 'secondary',\n\t\t\t\trotation: 45 + Math.random() * 90, // ~1/4 turn (45-135 degrees)\n\t\t\t}\n\t\t})\n\t\tsetParticles(newParticles)\n\n\t\t// Cleanup after animation completes\n\t\tconst timeout = setTimeout(() => {\n\t\t\tsetParticles([])\n\t\t}, 2000)\n\n\t\treturn () => clearTimeout(timeout)\n\t}, [])\n\n\tif (particles.length === 0) return null\n\n\treturn (\n\t\t<div className=\"celebration\" aria-hidden=\"true\">\n\t\t\t{particles.map((particle) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={particle.id}\n\t\t\t\t\tclassName={`celebration-particle celebration-particle--${particle.color}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tleft: `${origin.x}%`,\n\t\t\t\t\t\ttop: `${origin.y}%`,\n\t\t\t\t\t\t'--end-x': `${particle.endX}vw`,\n\t\t\t\t\t\t'--burst-y': `${particle.burstY}vh`,\n\t\t\t\t\t\t'--gravity': `${particle.gravity}vh`,\n\t\t\t\t\t\t'--rotation': `${particle.rotation}deg`,\n\t\t\t\t\t\tanimationDelay: `${particle.delay}s`,\n\t\t\t\t\t\tanimationDuration: `${particle.duration}s`,\n\t\t\t\t\t\twidth: `${particle.size}px`,\n\t\t\t\t\t\theight: `${particle.size}px`,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nexport default Celebration\n","import React from \"react\"\n\nconst getMessage = hint => {\n\n\tconst vowels = ['a', 'e', 'i', 'o', 'u']\n\n\tconst aAn = hint.category && hint.category.slice(0, 1).includes(vowels) ? 'a' : 'an'\n\n\tswitch(hint.type) {\n\t\tcase 'definition':\n\t\t\tif (hint.value.length === 1) { // Single definition\n\t\t\t\treturn <><strong>{hint.value[0].toUpperCase()}</strong> is the definition</>\n\t\t\t} else { // Double definition\n\t\t\t\treturn <>Both <strong>{hint.value[0].toUpperCase()}</strong> and <strong>{hint.value[1].toUpperCase()}</strong> are definitions for the solution</>\n\t\t\t}\n\t\tcase 'indicator':\n\t\t\tswitch(hint.category) {\n\t\t\t\tcase 'anagram':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates an anagram of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'ag-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is an anagram of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'charade':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'container':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a container</>\n\t\t\t\tcase 'deletion':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a deletion</>\n\t\t\t\tcase 'delete even':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates deleting the even letters from <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'delete odd':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates deleting the odd letters from <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'direct':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> is used</>\n\t\t\t\tcase 'hidden word':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a hidden word in <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'hw-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is hidden within <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'homophone':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a homophone</>\n\t\t\t\tcase 'hp-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is a homophone of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'initialism':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates the beginning of one or more words</>\n\t\t\t\tcase 'letter bank':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a letter bank</>\n\t\t\t\tcase 'lb-2':\n\t\t\t\t\treturn <><strong>{hint.end.value[0].toUpperCase()}</strong> is a letter bank for <strong>{hint.end.value[1].toUpperCase()}</strong></>\n\t\t\t\tcase 'particle':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'reversal':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> indicates a reversal of <strong>{hint.end.value[0].toUpperCase()}</strong>, making <strong>{hint.end.value[1].toUpperCase()}</strong></>\n\t\t\t\tcase 'synonym':\n\t\t\t\t\treturn <>Find a synonym for <strong>{hint.value.toUpperCase()}</strong></>\n\t\t\t\tcase 'sy-2':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> can be <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'spoonerism':\n\t\t\t\t\treturn <><strong>{hint.end.value[1].toUpperCase()}</strong> is a spoonerism of <strong>{hint.end.value[0].toUpperCase()}</strong></>\n\t\t\t\tcase 'dd-2':\n\t\t\t\tcase 'in-2':\n\t\t\t\t\treturn\n\t\t\t\tdefault:\n\t\t\t\t\t// One end point\n\t\t\t\t\tif (hint.end.value.length === 1) {\n\t\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> incicates {aAn} {hint.category} at <strong>{hint.end.value[0].toUpperCase()}</strong></> \n\t\t\t\t\t\t\n\t\t\t\t\t\t// Two end points\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <><strong>{hint.value.toUpperCase()}</strong> incicates {aAn} {hint.category} at <strong>{hint.end.value[0].toUpperCase()}</strong> and <strong>{hint.end.value[1].toUpperCase()}</strong></> \n\t\t\t\t\t}\n\t\t\t}\n\t\tdefault: \n\t\t\treturn hint.value\n\t}\n}\n\nexport default getMessage","import React, { useRef } from 'react'\nimport ButtonContainer from './ButtonContainer'\nimport Celebration from './Celebration'\n\nimport getMessage from '../../utils/bottom/getMessage'\n\nconst Message = ({\n\tactiveClue,\n\tnextHint,\n\tinput,\n\tcheckAns,\n\tisCorrectAns,\n\tisSolution,\n\treturnLearn,\n\tbuttons,\n\tshowLogic,\n\tsetShowLogic,\n}) => {\n\tconst msgContainer = useRef()\n\n\t// figure out which text to display\n\tconst message = checkAns ? (\n\t\tisCorrectAns ? (\n\t\t\t<div data-testid='message-success'>\n\t\t\t\t<strong>{input.join('').toUpperCase()}</strong> is correct.\n\t\t\t\t<br />\n\t\t\t\tNice work!\n\t\t\t</div>\n\t\t) : (\n\t\t\t<div data-testid='message-error'>\n\t\t\t\t<strong>{input.join('').toUpperCase()}</strong> is not the correct\n\t\t\t\tanswer.\n\t\t\t</div>\n\t\t)\n\t) : (\n\t\tgetMessage(activeClue.hints[nextHint])\n\t)\n\n\tconst explainer = activeClue.hints[nextHint].explainer\n\t\t? activeClue.hints[nextHint].explainer\n\t\t: false\n\n\t// Prep message button\n\tlet messageButton\n\n\tconst checkIsTodayClue = (activeClue) => {\n\t\tconst date1 = new Date(activeClue.release)\n\t\tconst date2 = new Date()\n\n\t\t// Strip time part by setting hours, minutes, seconds, and milliseconds to zero\n\t\tconst d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate())\n\t\tconst d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate())\n\n\t\treturn d1.getTime() === d2.getTime()\n\t}\n\tconst isTodayClue = checkIsTodayClue(activeClue)\n\n\t// Completed with returnLearn == true\n\tif (isSolution && returnLearn) {\n\t\tmessageButton = [buttons.returnLearn]\n\n\t\t// Completed with returnLearn == true\n\t} else if (checkAns && isCorrectAns && returnLearn) {\n\t\tmessageButton = [buttons.endClueShowLogic, buttons.returnLearn]\n\n\t\t// Completed with guess and finished logic && today's clue\n\t} else if (isSolution && showLogic && isTodayClue) {\n\t\tmessageButton = [buttons.shareScore, buttons.endClueHint]\n\n\t\t// Completed with guess and finished logic &&  is not today's clue\n\t} else if (isSolution && showLogic && !isTodayClue) {\n\t\tmessageButton = [buttons.endClueHint]\n\n\t\t// Completed with guess, more clues && today's clue\n\t} else if (checkAns && isCorrectAns && isTodayClue) {\n\t\tmessageButton = [\n\t\t\tbuttons.endClueShowLogic,\n\t\t\tbuttons.shareScore,\n\t\t\tbuttons.endClueGuess,\n\t\t]\n\n\t\t// Completed with guess, more clues && is not today's clue\n\t} else if (checkAns && isCorrectAns && !isTodayClue) {\n\t\tmessageButton = [buttons.endClueShowLogic, buttons.endClueGuess]\n\n\t\t// Continue showing logic\n\t} else if (showLogic && !activeClue.hints[nextHint].reveals) {\n\t\tmessageButton = [buttons.nextLogic]\n\n\t\t// Completed with hint, more clues\n\t} else if (isSolution && !showLogic) {\n\t\tmessageButton = [buttons.endClueHint]\n\n\t\t// Not complete, continue with game\n\t} else {\n\t\tmessageButton = [buttons.continue]\n\t}\n\n\t// style message\n\tlet messageStyle = isSolution\n\t\t? 'solution'\n\t\t: checkAns && isCorrectAns\n\t\t? 'is-correct-ans'\n\t\t: 'continue'\n\n\treturn (\n\t\t<div className={`message ${messageStyle} bg-white dark:!bg-neutral-800 dark:!text-neutral-100`} ref={msgContainer}>\n\t\t\t{checkAns && isCorrectAns && <Celebration />}\n\t\t\t{message && (\n\t\t\t\t<div className={'message-copy lc-container'}>\n\t\t\t\t\t{message}\n\t\t\t\t\t{explainer && (!checkAns || isCorrectAns) && <div className={'explainer'}>{explainer}</div>}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<ButtonContainer\n\t\t\t\tbtnArr={messageButton}\n\t\t\t\tisSolution={isSolution}\n\t\t\t\tstack={isSolution}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Message\n","import React from 'react'\nimport { isTodayClue } from '../dateHelpers'\n\nconst prepBottom = (\n\tactiveClue,\n\tnextHint,\n\tsetNextHint,\n\tinput,\n\tsetInput,\n\tsetShowMessage,\n\tstats,\n\tsetStats,\n\taddCompletedClue,\n\treturnLearn,\n\tsetReturnLearn,\n\tcheckAns,\n\tsetCheckAns,\n\tshowLogic,\n\tsetShowLogic,\n\trevealedLetters = []\n) => {\n\t// Check if this is today's clue\n\tconst isTodaysClue = () => isTodayClue(activeClue)\n\tconst shareScore = async () => {\n\t\tconst date = new Date(activeClue.release) // or your clue.date\n\t\tconst dateFormatted = new Intl.DateTimeFormat('en-US', {\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\tyear: 'numeric',\n\t\t}).format(date)\n\n\t\tconst perfectEmojis = [\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t]\n\n\t\tconst emoji =\n\t\t\tstats.guesses === 1 && stats.hints === 0\n\t\t\t\t? perfectEmojis[Math.floor(Math.random() * perfectEmojis.length)]\n\t\t\t\t: ''\n\n\t\tconst scoreText = `Learn Cryptic #${\n\t\t\tactiveClue.clid\n\t\t}\\n${dateFormatted}\\n${emoji} ${stats.guesses} ${\n\t\t\tstats.guesses === 1 ? 'guess' : 'guesses'\n\t\t}, ${stats.hints} ${\n\t\t\tstats.hints === 1 ? 'hint' : 'hints'\n\t\t}\\nlearncryptic.com`.trim()\n\n\t\tconst isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)\n\n\t\tif (isMobile && navigator.share) {\n\t\t\ttry {\n\t\t\t\tawait navigator.share({\n\t\t\t\t\ttitle: 'Clue Score',\n\t\t\t\t\ttext: scoreText,\n\t\t\t\t})\n\t\t\t\tconsole.log('Shared successfully')\n\t\t\t} catch (err) {\n\t\t\t\tif (err.name !== 'AbortError') {\n\t\t\t\t\tconsole.error('Share failed:', err)\n\t\t\t\t\talert('Could not share your score.')\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Desktop or fallback\n\t\t\ttry {\n\t\t\t\tawait navigator.clipboard.writeText(scoreText)\n\t\t\t\talert('Score copied to clipboard!')\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Clipboard copy failed:', err)\n\t\t\t\talert('Could not copy your score.')\n\t\t\t}\n\t\t}\n\t}\n\n\t// buttons\n\tconst buttons = {\n\t\tshowHint: {\n\t\t\tname: 'Show hint',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetStats((prevStats) => ({ ...prevStats, hints: prevStats.hints + 1 }))\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\trevealSolution: {\n\t\t\tname: 'Reveal solution',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// addCompletedClue(activeClue, stats, 'h')\n\t\t\t\t// setStats((prevStats) => ({ ...prevStats, hints: prevStats.hints + 1 }))\n\t\t\t\tsetShowMessage(true)\n\t\t\t\tsetInput([])\n\t\t\t},\n\t\t},\n\t\tcheckAnswer: {\n\t\t\tname: 'Check answer',\n\t\t\tstyle: 'primary',\n\t\t\tonClick: function () {\n\t\t\t\tlet correct =\n\t\t\t\t\tinput.join('').toUpperCase() ===\n\t\t\t\t\tactiveClue.solution.arr.join('').toUpperCase()\n\t\t\t\tif (correct) {\n\t\t\t\t\taddCompletedClue(activeClue, stats, 'g')\n\t\t\t\t\tsetStats((prevStats) => ({\n\t\t\t\t\t\t...prevStats,\n\t\t\t\t\t\tguesses: prevStats.guesses + 1,\n\t\t\t\t\t}))\n\t\t\t\t\t// Show source when correctly guessed\n\t\t\t\t\tif (activeClue.source?.ref?.current) {\n\t\t\t\t\t\tactiveClue.source.ref.current.classList.add('show')\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetStats((prevStats) => ({\n\t\t\t\t\t\t...prevStats,\n\t\t\t\t\t\tguesses: prevStats.guesses + 1,\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\tsetCheckAns(true)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\tcontinue: {\n\t\t\tname: 'Continue',\n\t\t\tstyle: 'primary',\n\t\t\tonClick: function () {\n\t\t\t\tsetShowMessage(false)\n\t\t\t\t!checkAns && setNextHint(nextHint + 1)\n\t\t\t\tsetCheckAns(false)\n\t\t\t},\n\t\t},\n\t\tendClueHint: {\n\t\t\tpath: '/clues',\n\t\t\tname: 'Play more',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t\tendClueGuess: {\n\t\t\tpath: '/clues',\n\t\t\tname: 'Play more',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t\tshareScore: {\n\t\t\tname: `Share score`,\n\t\t\timg: (\n\t\t\t\t<svg\n\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\twidth='24'\n\t\t\t\t\theight='24'\n\t\t\t\t\tfill='none'\n\t\t\t\t\tstroke='currentColor'\n\t\t\t\t\tstrokeWidth='2'\n\t\t\t\t\tstrokeLinecap='round'\n\t\t\t\t\tstrokeLinejoin='round'\n\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t>\n\t\t\t\t\t<circle cx='6' cy='12' r='2' />\n\t\t\t\t\t<circle cx='18' cy='6' r='2' />\n\t\t\t\t\t<circle cx='18' cy='18' r='2' />\n\t\t\t\t\t<line x1='8' y1='11' x2='16' y2='7' />\n\t\t\t\t\t<line x1='8' y1='13' x2='16' y2='17' />\n\t\t\t\t</svg>\n\t\t\t),\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tshareScore()\n\t\t\t},\n\t\t},\n\t\tendClueShowLogic: {\n\t\t\tname: 'Show logic',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// Skip first part of two-step hints (synonym) in show logic mode\n\t\t\t\tlet startHint = nextHint\n\t\t\t\tif (activeClue.hints[startHint]?.category === 'synonym') {\n\t\t\t\t\tstartHint++\n\t\t\t\t}\n\t\t\t\tsetNextHint(startHint)\n\t\t\t\tsetShowLogic(true)\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\tnextLogic: {\n\t\t\tname: 'Next',\n\t\t\tstyle: 'alt',\n\t\t\tonClick: function () {\n\t\t\t\t// Skip first part of two-step hints (synonym) in show logic mode\n\t\t\t\tlet next = nextHint + 1\n\t\t\t\tif (activeClue.hints[next]?.category === 'synonym') {\n\t\t\t\t\tnext++\n\t\t\t\t}\n\t\t\t\tsetNextHint(next)\n\t\t\t\tsetCheckAns(false)\n\t\t\t\tsetShowMessage(true)\n\t\t\t},\n\t\t},\n\t\treturnLearn: {\n\t\t\tpath: `/learn/${returnLearn}#next`,\n\t\t\tname: 'Return',\n\t\t\tstyle: 'secondary',\n\t\t\tonClick: function () {\n\t\t\t\tsetReturnLearn(false)\n\t\t\t\tsetStats({ guesses: 0, hints: 0, how: '' })\n\t\t\t},\n\t\t},\n\t}\n\n\tlet btnArr = []\n\n\tif (activeClue.hints[nextHint].reveals) {\n\t\t// Only show \"Reveal Solution\" if it's not today's clue\n\t\tif (!isTodaysClue()) {\n\t\t\tbtnArr = [buttons.revealSolution]\n\t\t} else {\n\t\t\t// For today's clue, show no buttons when it would reveal solution\n\t\t\tbtnArr = []\n\t\t}\n\t}\n\n\t// Check if all positions are filled (either typed or revealed)\n\tconst allPositionsFilled = activeClue.solution.arr.every((_, index) => {\n\t\treturn input[index] && input[index] !== ''\n\t})\n\n\tconst isCorrectAns =\n\t\tinput.join('').toUpperCase() ===\n\t\tactiveClue.solution.arr.join('').toUpperCase()\n\tconst isSolution = activeClue.hints.length - 1 === nextHint && !checkAns\n\n\treturn { buttons, btnArr, checkAns, setCheckAns, isSolution, isCorrectAns, allPositionsFilled, checkAnswer: buttons.checkAnswer.onClick }\n}\n\nexport default prepBottom\n","import React from 'react'\n\nimport ButtonContainer from './bottom/ButtonContainer'\nimport Keyboard from './bottom/Keyboard'\nimport Message from './bottom/Message'\n\nimport prepBottom from '../utils/bottom/prepBottom'\n\nconst Bottom = ({ activeClue, showMessage, setShowMessage, nextHint, setNextHint, addCompletedClue, handleInput, input, setInput, stats, setStats, returnLearn, setReturnLearn, checkAns, setCheckAns, showLogic, setShowLogic, revealedLetters }) => {\n\n\tlet { buttons, btnArr, isSolution, isCorrectAns, allPositionsFilled, checkAnswer } = prepBottom(activeClue, nextHint, setNextHint, input, setInput, setShowMessage, stats, setStats, addCompletedClue, returnLearn, setReturnLearn, checkAns, setCheckAns, showLogic, setShowLogic, revealedLetters)\n\n\treturn(\n\t\t<div className='bottom bg-white dark:!bg-neutral-800 border-t border-neutral-200 dark:!border-neutral-700'>\t\t\t\n\t\t\t{showMessage ? \n\t\t\t\t<Message\n\t\t\t\t\tsetShowMessage={setShowMessage}\n\t\t\t\t\tactiveClue={activeClue}\n\t\t\t\t\tnextHint={nextHint}\n\t\t\t\t\tsetNextHint={setNextHint}\n\t\t\t\t\tinput={input}\n\t\t\t\t\tcheckAns={checkAns}\n\t\t\t\t\tsetCheckAns={setCheckAns}\n\t\t\t\t\taddCompletedClue={addCompletedClue}\n\t\t\t\t\tisCorrectAns={isCorrectAns}\n\t\t\t\t\tisSolution={isSolution}\n\t\t\t\t\treturnLearn={returnLearn}\n\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\tshowLogic={showLogic}\n\t\t\t\t\tsetShowLogic={setShowLogic}\n\t\t\t\t/> :\n\t\t\t\t<>\n\t\t\t\t\t<ButtonContainer\n\t\t\t\t\t\tbtnArr={btnArr}\n\t\t\t\t\t/>\n\t\t\t\t\t<Keyboard\n\t\t\t\t\t\thandleInput={handleInput}\n\t\t\t\t\t\tonEnter={checkAnswer}\n\t\t\t\t\t\tcanCheckAnswer={allPositionsFilled}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default Bottom","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\n\nconst Tooltip = ({ text }) => {\n\tconst data = useStaticQuery(graphql`\n\t\tquery AllTypeQuery {\n\t\t\tallTypeJson {\n\t\t\t\tnodes {\n\t\t\t\t\ttype\n\t\t\t\t\tdescription\n\t\t\t\t\texample\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`)\n\n\tconst matchType = data.allTypeJson.nodes.find(\n\t\t(type) => type.type.toUpperCase() === text.toUpperCase()\n\t)\n\n\treturn (\n\t\t<div role='tooltip' className='tooltip' id={text}>\n\t\t\t<p className='tooltip-description'>{matchType.description}</p>\n\t\t\t<p className='tooltip-example'>{matchType.example}</p>\n\t\t</div>\n\t)\n}\n\nexport default Tooltip\n","// returns an array of refs for clue letter that match with a string or array of strings of target(s)\nconst getTargetLetters = (letters, activeClue, hint) => {\n\t// If an array of values\n\tif (Array.isArray(letters)) {\n\t\t// Get each index in clue of val\n\t\tconst targetLettersStartArr = letters.map((val) => {\n\t\t\treturn activeClue.clue.value.indexOf(val)\n\t\t})\n\n\t\t// Special case where ref is not part of clue\n\t\tif (\n\t\t\t(hint.category === 'particle' ||\n\t\t\t\thint.category === 'container' ||\n\t\t\t\thint.category === 'anagram' ||\n\t\t\t\thint.category === 'letter bank') &&\n\t\t\tArray.isArray(targetLettersStartArr) &&\n\t\t\ttargetLettersStartArr[0] === -1\n\t\t) {\n\t\t\tactiveClue.hints.find((h) => {\n\t\t\t\tif (!!h.end && h.end.value && h.end.value[0] === letters[0]) {\n\t\t\t\t\treturn h.addLetters.ref.current\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\n\t\t\t// Ref found in clue\n\t\t} else {\n\t\t\t// get each range of clue refs\n\t\t\tlet clueLetters = []\n\t\t\ttargetLettersStartArr.forEach((targetLettersStart, index) => {\n\t\t\t\tclueLetters.push(\n\t\t\t\t\t...activeClue.clue.ref.current.slice(\n\t\t\t\t\t\ttargetLettersStart,\n\t\t\t\t\t\ttargetLettersStart + letters[index].length\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t})\n\t\t\treturn clueLetters\n\t\t}\n\n\t\t// Just a string value\n\t} else {\n\t\tlet targetLettersStart, strSlice\n\n\t\tif (hint.category === 'direct') {\n\t\t\t// remove definition\n\t\t\tlet freshValue = activeClue.clue.value.replace(\n\t\t\t\tactiveClue.hints[0].value,\n\t\t\t\t''\n\t\t\t)\n\t\t\tlet freshValueIndex = activeClue.clue.value.indexOf(freshValue)\n\n\t\t\ttargetLettersStart = freshValue.indexOf(` ${letters}`) + 1\n\n\t\t\tstrSlice = activeClue.clue.ref.current.slice(\n\t\t\t\tfreshValueIndex + targetLettersStart,\n\t\t\t\tfreshValueIndex + targetLettersStart + letters.length\n\t\t\t)\n\t\t} else {\n\t\t\ttargetLettersStart = activeClue.clue.value.indexOf(letters)\n\t\t\tstrSlice = activeClue.clue.ref.current.slice(\n\t\t\t\ttargetLettersStart,\n\t\t\t\ttargetLettersStart + letters.length\n\t\t\t)\n\t\t}\n\n\t\treturn strSlice\n\t}\n}\n\nexport default getTargetLetters\n","// remove special characters from ref\n\nconst removeSpecial = (charArr) => {\n\t\n\tconst specialChar = [' ', ',', '-', '_', ':', ':', '\"', \"'\", '?', '!', '.', ';', '(', ')', '[', ']', '{', '}', '/', '\\\\']\n\n\n\tif (typeof(charArr) === 'string') {\n\n\t\tcharArr = charArr.split('')\n\t\treturn charArr.filter(char => !specialChar.includes(char)).join('')\n\n\t} else {\n\n\t\treturn charArr.filter(ref => {\n\t\t\t\n\t\t\t// remove any special characters from ref area\n\t\t\treturn !specialChar.includes(ref.current.textContent)\n\t\t})\n\t}\n}\n\nexport default removeSpecial","import removeSpecial from './removeSpecialChar'\n\n// locks letters into a fixed position based on their initial render position\nconst fixLetters = (activeClue, hint, index) => {\n\n\t// FN to position letters //\n\tconst positionLetters = (\n\t\thint,\n\t\tanchor = hint.fix.anchor,\n\t\tmoving = hint.fix.moving\n\t) => {\n\t\t// Keep track of used anchors\n\t\tlet anchorUsed = []\n\n\t\tmoving.forEach((ref) => {\n\t\t\tref.current.style.position = 'fixed'\n\t\t})\n\n\t\tmoving.forEach((ref) => {\n\t\t\t// Matching letter in anchor\n\t\t\tconst currentDestLetter = anchor.find((destLetter, index) => {\n\t\t\t\t// Remove anchor to not reuse\n\t\t\t\tif (hint.fix.removeAnchor) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\t\tref.current.textContent.toUpperCase() &&\n\t\t\t\t\t\t!anchorUsed.includes(index)\n\t\t\t\t\t) {\n\t\t\t\t\t\tanchorUsed.push(index)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Skip positioning if no matching letter found (e.g., special characters)\n\t\t\tif (!currentDestLetter) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Add position attributes\n\t\t\tref.current.style.top = !!currentDestLetter.current.style.top\n\t\t\t\t? `${Math.round(Number(currentDestLetter.current.style.top.slice(0, -2)))}px`\n\t\t\t\t: `${Math.round(currentDestLetter.current.getBoundingClientRect().top + 1)}px`\n\t\t\tref.current.style.left = !!currentDestLetter.current.style.left\n\t\t\t\t? `${Math.round(Number(currentDestLetter.current.style.left.slice(0, -2)))}px`\n\t\t\t\t: `${Math.round(currentDestLetter.current.getBoundingClientRect().left)}px`\n\t\t})\n\n\t\t// Letters are already set to fixed position above\n\n\t\t// Add position attributes\n\t\thint.fix.endPt.forEach((ref) => {\n\t\t\tlet left = Math.round(ref.current.getBoundingClientRect().left)\n\t\t\tlet top = Math.round(ref.current.getBoundingClientRect().top + 2)\n\t\t\tref.current.style.left = `${left}px`\n\t\t\tref.current.style.top = `${top}px`\n\t\t\treturn [left, top]\n\t\t})\n\n\t\t// Fix after adding pos attributes\n\t\t// hint.fix.endPt.forEach( ref => { ref.current.style.position = 'fixed' })\n\t}\n\n\t//\n\t// LOGIC //\n\t//\n\thint.fix = { removeAnchor: true }\n\tconst prevHint = activeClue.hints[index - 1]\n\n\tswitch (hint.category) {\n\t\tcase 'ag-2':\n\t\t\thint.fix.anchor = prevHint.addLetters.ref.current // anchor letters\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[0].length\n\t\t\t) // moving letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[0].length\n\t\t\t) // staging area letters\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'lb-2':\n\t\t\thint.fix.anchor = prevHint.addLetters.ref.current // anchor letters\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[1].length\n\t\t\t) // moving letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[1].length\n\t\t\t) // staging area letters\n\t\t\thint.fix.removeAnchor = false\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'hw-2':\n\t\t\tlet solIndex = removeSpecial(prevHint.end.value[0].toUpperCase()).indexOf(\n\t\t\t\tremoveSpecial(hint.end.value[1].toUpperCase())\n\t\t\t)\n\t\t\thint.fix.anchor = removeSpecial(prevHint.addLetters.ref.current).slice(\n\t\t\t\tsolIndex,\n\t\t\t\tsolIndex + removeSpecial(activeClue.solution.value).length\n\t\t\t) // anchor letters\n\t\t\thint.fix.moving = removeSpecial(hint.addLetters.ref.current) // moving letters\n\n\t\t\thint.fix.endPt = []\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = hint.fix.moving.reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tcase 'container':\n\t\t\t// Get valid previous hints\n\t\t\tlet prevHints = activeClue.hints.slice(1, index)\n\t\t\tconst skipCats = ['anagram', 'hidden word', 'letter bank', 'homophone', 'synonym']\n\t\t\tprevHints = prevHints.filter(\n\t\t\t\t(prevHint) => !skipCats.includes(prevHint.category)\n\t\t\t)\n\n\t\t\tprevHints.forEach((prevHint) => {\n\t\t\t\t// Get cell to use for split word\n\t\t\t\tswitch (prevHint.category) {\n\t\t\t\t\tcase 'direct':\n\t\t\t\t\t\tprevHint.rightValue = prevHint.value.toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'reversal':\n\t\t\t\t\tcase 'ag-2':\n\t\t\t\t\t\tprevHint.rightValue = prevHint.end.value[1].toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tprevHint.rightValue = prevHint.end.value[0].toUpperCase()\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// Find word that is split\n\t\t\tconst possibleSplits = [[0,2], [0,3], [1,3], [0,4], [1,4], [2,4]]\n\n\t\t\t// Look at past hints to find which word is split\n\t\t\thint.fix.anchorSplit = prevHints.find((h, hIndex) => {\n\n\t\t\t\t// Try to find a match\n\t\t\t\tconst foundSplit = possibleSplits.find(split => (h.rightValue === [hint.end.value[split[0]], hint.end.value[split[1]]].join('').toUpperCase() && !!hint.end.value[split[1]]));\n\n\t\t\t\t// If match found, add the data\n\t\t\t\tconst logSplits = foundSplit => {\n\t\t\t\t\thint.fix.joinIndex = [foundSplit[0], foundSplit[1]]\n\t\t\t\t\thint.fix.indicatorMatch = hIndex\n\t\t\t\t\treturn h.rightValue === [hint.end.value[foundSplit[0]], hint.end.value[foundSplit[1]]].join('').toUpperCase()\n\t\t\t\t};\n\n\t\t\t\treturn foundSplit ? logSplits(foundSplit) : false;\n\t\t\t})\n\n\t\t\t// Remove duplicate letter from special hints\n\t\t\tconst doubleHints = ['ag-2', 'lb-2', 'reversal']\n\t\t\tif (doubleHints.includes(hint.fix.anchorSplit.category)) {\n\t\t\t\thint.fix.anchorSplit =\n\t\t\t\t\thint.fix.anchorSplit.addLetters.ref.current.slice(\n\t\t\t\t\t\thint.fix.anchorSplit.end.value[0].length\n\t\t\t\t\t)\n\t\t\t} else {\n\t\t\t\thint.fix.anchorSplit = hint.fix.anchorSplit.addLetters.ref.current\n\t\t\t}\n\n\t\t\t// anchorOther - get other anchor words //\n\t\t\t// Remove splitword from prevHints\n\t\t\tprevHints.splice(hint.fix.indicatorMatch, 1)\n\n\t\t\t// find non-split words/letters\n\t\t\thint.fix.anchorOther = []\n\t\t\thint.end.value.forEach((hend, index) => {\n\t\t\t\tif (!hint.fix.joinIndex.includes(index)) {\n\t\t\t\t\tconst thisMatch = prevHints.find(\n\t\t\t\t\t\t(h, hIndex) => h.rightValue.toUpperCase() === hend.toUpperCase()\n\t\t\t\t\t)\n\t\t\t\t\tif (thisMatch && doubleHints.includes(thisMatch.category)) {\n\t\t\t\t\t\thint.fix.anchorOther.push(\n\t\t\t\t\t\t\t...thisMatch.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\tthisMatch.end.value[0].length\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t} else if (thisMatch) {\n\t\t\t\t\t\thint.fix.anchorOther.push(...thisMatch.addLetters.ref.current)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// MOVING SPLIT\n\t\t\tconst movingLStart = hint.end.value\n\t\t\t\t.slice(0, hint.fix.joinIndex[0])\n\t\t\t\t.join('').length\n\t\t\tconst movingLLength = hint.end.value[hint.fix.joinIndex[0]].length\n\t\t\tconst movingRStart = hint.end.value\n\t\t\t\t.slice(0, hint.fix.joinIndex[1])\n\t\t\t\t.join('').length\n\t\t\tconst movingRLength = hint.end.value[hint.fix.joinIndex[1]].length\n\n\t\t\thint.fix.movingSplit = [\n\t\t\t\t...hint.addLetters.ref.current.slice(\n\t\t\t\t\tmovingLStart,\n\t\t\t\t\tmovingLStart + movingLLength\n\t\t\t\t),\n\t\t\t\t...hint.addLetters.ref.current.slice(\n\t\t\t\t\tmovingRStart,\n\t\t\t\t\tmovingRStart + movingRLength\n\t\t\t\t),\n\t\t\t]\n\n\t\t\thint.fix.movingOther = hint.addLetters.ref.current\n\t\t\t\t.slice(0, hint.end.value.join('').split('').length)\n\t\t\t\t.filter((ref) => !hint.fix.movingSplit.includes(ref))\n\n\t\t\t// Destination letters\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value.join('').split('').length\n\t\t\t)\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following ag-2. Othewise it can mess with layout\n\t\t\t// hint.fix.wordWidth = [...hint.fix.movingSplit, ...hint.fix.movingOther].reduce((total, ltr) => total + ltr.current.getBoundingClientRect().width, 0)\n\t\t\t// activeClue.hints.length > (index + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\tpositionLetters(hint, hint.fix.anchorSplit, hint.fix.movingSplit)\n\t\t\tpositionLetters(hint, hint.fix.anchorOther, hint.fix.movingOther)\n\t\t\tbreak\n\n\t\tcase 'reversal':\n\t\t\t// push only used anchor to anchor\n\t\t\thint.fix.anchor = []\n\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\tif (h.category === 'reversal') return true\n\t\t\t\tif (h.addLetters) {\n\t\t\t\t\thint.fix.anchor.push(h)\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t})\n\n\t\t\thint.fix.anchor = hint.fix.anchor\n\t\t\t\t.map((h) => h.addLetters.ref.current)\n\t\t\t\t.flat()\n\t\t\t\t.reverse()\n\t\t\thint.fix.moving = hint.addLetters.ref.current.slice(\n\t\t\t\t0,\n\t\t\t\thint.end.value[0].length\n\t\t\t) // moving letters\n\t\t\thint.fix.moving = hint.fix.moving\n\t\t\t\t.filter((m) => m.current.textContent !== ' ')\n\t\t\t\t.reverse()\n\n\t\t\t// fix word with. Helps to place hints following this inline. Only run when there are hints following reversal. Othewise it can mess with reversal layout\n\t\t\thint.fix.wordWidth = hint.fix.moving.reduce(\n\t\t\t\t(total, ltr) => total + ltr.current.getBoundingClientRect().width,\n\t\t\t\t0\n\t\t\t)\n\t\t\t// const revIndex = activeClue.hints.findIndex(h=>h.category==='reversal')\n\t\t\t// activeClue.hints.length > (revIndex + 1) && (hint.addLetters.wordRef.current.style.width = `${hint.fix.wordWidth + 8}px`)\n\n\t\t\thint.fix.endPt = hint.addLetters.ref.current.slice(\n\t\t\t\thint.end.value[0].length\n\t\t\t) // staging area letters\n\n\t\t\tpositionLetters(hint)\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tbreak\n\t}\n}\n\nexport default fixLetters\n","import removeSpecial from \"./removeSpecialChar\"\n\n// adds letters that will be needed as either duplicates or are not within the original clue\nconst addLetters = (activeClue, hint) => {\n\t\n\tif (hint && hint.type === 'indicator') { \n\t\thint.addLetters = { ref: { current: [] } }\n\t\t\n\t\tif (!hint.end || !hint.end.value) {\n\t\t\thint.addLetters.value = []\n\t\t\treturn\n\t\t}\n\n\t\tswitch(hint.category) {\n\t\t\tcase 'anagram':\n\t\t\tcase 'hidden word':\n\t\t\tcase 'letter bank':\n\t\t\tcase 'particle':\n\t\t\tcase 'symbol':\n\t\t\t\thint.addLetters.value = hint.end.value[0] ? hint.end.value[0].split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'synonym':\n\t\t\t\thint.addLetters.value = []\n\t\t\t\tbreak\n\n\t\t\tcase 'sy-2':\n\t\t\t\thint.addLetters.value = hint.end.value[0] ? hint.end.value[0].split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'container':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? [...hint.end.value.join(\"\").split(''), ...hint.end.value.join(\" \").split('')] : []\n\t\t\t\tbreak\n\n\t\t\tcase 'lb-2':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? [...hint.end.value[1], ...hint.end.value[1]] : []\n\t\t\t\tbreak\n\n\t\t\tcase 'direct':\n\t\t\t\thint.addLetters.value = hint.value.split('')\n\t\t\t\tbreak\n\n\t\t\tcase 'homophone':\n\t\t\t\thint.addLetters.value = ['= ', activeClue.solution.value]\n\t\t\t\tbreak\n\n\t\t\tcase 'hw-2':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? removeSpecial(hint.end.value[1]).split('') : []\n\t\t\t\tbreak\n\n\t\t\tcase 'initialism':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? hint.end.value.map(endPt => {\n\t\t\t\t\treturn endPt ? endPt.split(' ').map(word => word.split('')[0]).flat() : []\n\t\t\t\t}).flat() : []\n\t\t\t\tbreak\n\n\t\t\tcase 'ag-2':\n\t\t\tcase 'reversal':\n\t\t\t\thint.addLetters.value = hint.end.value.length > 0 ? hint.end.value.map(endPt => endPt ? endPt.split('') : []).flat() : []\n\t\t\t\tbreak\n\n\t\t\tcase 'spoonerism':\n\t\t\t\thint.addLetters.value = hint.end.value[1] ? hint.end.value[1].split('') : []\n\t\t\t\tbreak\n\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t}\n}\n\nexport default addLetters","import { useRef, createRef, useEffect } from 'react'\n\nimport getTargetLetters from './getTargetLetters'\nimport fixLetters from './fixLetters'\nimport addLetters from './addLetters'\nimport creators from '../../assets/data/creators.json'\n\nconst usePrepClue = (dataClue) => {\n\tlet activeClue = structuredClone(dataClue)\n\n\tuseEffect(() => console.log(activeClue), [dataClue])\n\n\t// get solution letters\n\tconst getSolutionLetters = (solution) =>\n\t\tsolution.value.split(' ').map((word) => word.length)\n\tactiveClue.solution.length = {\n\t\tvalue: `(${getSolutionLetters(activeClue.solution).join(', ')})`,\n\t\tarr: getSolutionLetters(activeClue.solution),\n\t}\n\n\t// build clue and solution arrays\n\tactiveClue.clue.arr = activeClue.clue.value.split('')\n\tactiveClue.solution.arr = activeClue.solution.value.split('')\n\tactiveClue.solution.arr = activeClue.solution.arr.filter((ltr) => ltr !== ' ')\n\n\t// build type array\n\tactiveClue.type = activeClue.type.split(', ')\n\n\t// clue source\n\tconst creator = creators.find(\n\t\t(creator) => creator.nom === activeClue.source.value\n\t)\n\tif (creator) {\n\t\tactiveClue.source.href = creator.link\n\t} else {\n\t\tactiveClue.source.href = false\n\t}\n\n\t// add hint type\n\tif (activeClue.hints) {\n\t\tactiveClue.hints.map((hint) => (hint.type = 'indicator'))\n\t\tactiveClue.hints = activeClue.hints.flatMap((obj) => {\n\t\t\tif (obj.category === 'anagram') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'ag-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'hidden word') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'hw-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'homophone') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'hp-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'initialism') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'in-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'letter bank') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'lb-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\tif (obj.category === 'synonym') {\n\t\t\t\treturn [\n\t\t\t\t\t{ ...obj, explainer: '' },\n\t\t\t\t\t{ ...obj, category: 'sy-2' },\n\t\t\t\t]\n\t\t\t}\n\t\t\treturn [obj]\n\t\t})\n\t} else {\n\t\tactiveClue.hints = []\n\t}\n\n\t// Add definition(s)\n\tif (!activeClue.type.includes('double definition')) {\n\t\tactiveClue.hints.unshift({\n\t\t\ttype: 'definition',\n\t\t\tvalue: activeClue.definition,\n\t\t})\n\t\tactiveClue.hints[activeClue.hints.length - 1].reveals = true\n\t} else {\n\t\tactiveClue.hints.unshift(\n\t\t\t{ type: 'definition', value: activeClue.definition },\n\t\t\t{\n\t\t\t\ttype: 'indicator',\n\t\t\t\tcategory: 'dd-2',\n\t\t\t\texplainer: false,\n\t\t\t\tvalue: activeClue.definition,\n\t\t\t\treveals: true,\n\t\t\t\tend: {\n\t\t\t\t\tvalue: activeClue.definition,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t}\n\n\t// build refs\n\tactiveClue.clue.ref = useRef(activeClue.clue.arr.map(() => createRef())) // clue letter refs\n\tactiveClue.clue.sectionRef = useRef() // clue section ref\n\tactiveClue.solution.ref = useRef(\n\t\tactiveClue.solution.arr.map(() => createRef())\n\t) // solution letter refs\n\tactiveClue.solution.sectionRef = useRef() // solution section ref\n\tactiveClue.solution.length.ref = useRef() // solution length ref\n\tactiveClue.source.ref = useRef() // source ref\n\tactiveClue.spoon = useRef() // source ref\n\tactiveClue.addLetters = { ref: useRef([]) } // add letters ref\n\n\t// hint target refs\n\tactiveClue.hints.forEach((hint) => {\n\t\t// add extra letters needed\n\t\taddLetters(activeClue, hint)\n\n\t\t// indicator letters\n\t\thint.ref = getTargetLetters(hint.value, activeClue, hint)\n\n\t\t// indicator end letters\n\t\tif (!!hint.end) {\n\t\t\thint.end.ref = getTargetLetters(hint.end.value, activeClue, hint)\n\t\t}\n\t})\n\n\t// add letters\n\tactiveClue.hints.forEach((hint, index) => {\n\t\tif (hint.addLetters && hint.addLetters.value) {\n\t\t\tactiveClue.addLetters.ref.current.push(\n\t\t\t\thint.addLetters.value.map(() => createRef())\n\t\t\t)\n\t\t\thint.addLetters.ref.current = activeClue.addLetters.ref.current[index]\n\t\t} else {\n\t\t\tactiveClue.addLetters.ref.current.push([])\n\t\t}\n\t})\n\n\tuseEffect(() => {\n\t\t// Fix letters - use double requestAnimationFrame to ensure flexbox layout has settled\n\t\t// This is critical for mobile where the addLetters flexbox container needs time to calculate\n\t\t// final positions before getBoundingClientRect() is called\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tconst fixList = ['ag-2', 'hw-2', 'lb-2', 'container', 'reversal']\n\t\t\t\tactiveClue.hints.forEach((hint, index) => {\n\t\t\t\t\thint &&\n\t\t\t\t\t\thint.category &&\n\t\t\t\t\t\tfixList.includes(hint.category) &&\n\t\t\t\t\t\tfixLetters(activeClue, hint, index)\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}, [])\n\n\treturn { activeClue }\n}\n\nexport default usePrepClue\n","\n// moves letters from movementLettersRef to solutionLettersRef\nconst underlineLetters = (defintionLettersRef) => {\n\t\n\tdefintionLettersRef.forEach( ref => {\n\t\tref.current.classList.add('underline')\n\t})\n\n}\n\nexport default underlineLetters","\n// moves letters from movementLettersRef to solutionLettersRef\nconst highlightLetters = (indicatedLettersRef, color = false, recheck) => {\n\n\t// Helper function to get CSS custom property values\n\tconst getCSSVariable = (variable) => {\n\t\treturn getComputedStyle(document.documentElement).getPropertyValue(variable).trim()\n\t}\n\n\tconst getBackgroundColor = () => {\n\t\tif (color) {\n\t\t\t// Map hardcoded colors to CSS custom properties\n\t\t\tswitch (color) {\n\t\t\t\tcase '#E1D8FF':\n\t\t\t\t\treturn getCSSVariable('--lc-highlight-bg')\n\t\t\t\tcase '#E2E2E2':\n\t\t\t\t\treturn getCSSVariable('--lc-bg-muted')\n\t\t\t\tdefault:\n\t\t\t\t\treturn color\n\t\t\t}\n\t\t} else {\n\t\t\treturn getCSSVariable('--lc-highlight-bg')\n\t\t}\n\t}\n\t\n\tindicatedLettersRef.forEach( ref => {\n\t\tif (recheck) {\n\t\t\t// Set to muted gray background to show previously highlighted\n\t\t\tref.current.style.backgroundColor = getCSSVariable('--lc-bg-muted')\n\t\t} else {\n\t\t\tref.current.style.backgroundColor = getBackgroundColor()\n\t\t}\n\t})\n\n}\n\nexport default highlightLetters","const changeColor = (toChange, color = false, recheck = false) => {\n\n\t// Helper function to get CSS custom property values\n\tconst getCSSVariable = (variable) => {\n\t\treturn getComputedStyle(document.documentElement).getPropertyValue(variable).trim()\n\t}\n\n\tconst getColor = () => {\n\t\tif (color) {\n\t\t\t// Map hardcoded colors to CSS custom properties\n\t\t\tswitch (color) {\n\t\t\t\tcase '#7457D6':\n\t\t\t\t\treturn getCSSVariable('--lc-highlight-text')\n\t\t\t\tcase '#0B0B0B':\n\t\t\t\tcase '#0b0b0b':\n\t\t\t\t\treturn getCSSVariable('--lc-text-primary')\n\t\t\t\tcase '#222':\n\t\t\t\t\treturn getCSSVariable('--lc-text-secondary')\n\t\t\t\tcase '#ccc':\n\t\t\t\t\treturn getCSSVariable('--lc-text-muted')\n\t\t\t\tdefault:\n\t\t\t\t\treturn color\n\t\t\t}\n\t\t} else {\n\t\t\treturn getCSSVariable('--lc-highlight-text')\n\t\t}\n\t}\n\n\tif (Array.isArray(toChange)) {\n\t\ttoChange.forEach( ref => {\n\n\t\t\tif (recheck) {\n\t\t\t\t// Reset to primary text color\n\t\t\t\tref.current.style.color = getCSSVariable('--lc-text-primary')\n\t\t\t} else {\n\t\t\t\tref.current.style.color = getColor()\n\t\t\t\tref.current.style.opacity = 1\n\t\t\t}\n\t\t})\n\t} else {\n\t\tif (recheck) {\n\t\t\t// Reset to primary text color\n\t\t\ttoChange.current.style.color = getCSSVariable('--lc-text-primary')\n\t\t} else {\n\t\t\ttoChange.current.style.color = getColor()\n\t\t\ttoChange.current.style.opacity = 1\n\t\t}\n\t}\n}\n\nexport default changeColor","import removeSpecial from './removeSpecialChar'\n\n// moves letters from movingLettersRef to destLettersRef\nconst moveLetters = (\n\tmovingLettersRef,\n\tdestLettersRef,\n\ttiming = 'shuffle',\n\treverse = false\n) => {\n\tmovingLettersRef = removeSpecial(movingLettersRef)\n\n\tif (reverse) {\n\t\tmovingLettersRef = movingLettersRef.reverse()\n\t}\n\n\tmovingLettersRef.forEach((ref, index) => {\n\t\tconst currentDestLetter = destLettersRef.find((destLetter) => {\n\t\t\treturn (\n\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\tref.current.textContent.toUpperCase()\n\t\t\t)\n\t\t})\n\n\t\tconst destIndex = destLettersRef.findIndex(\n\t\t\t(destLetter) =>\n\t\t\t\tdestLetter.current.textContent.toUpperCase() ===\n\t\t\t\tref.current.textContent.toUpperCase()\n\t\t)\n\t\tdestLettersRef.splice(destIndex, 1)\n\n\t\tref.current.style.textTransform = 'uppercase'\n\t\tref.current.style.top = `${Math.round(Number(\n\t\t\tcurrentDestLetter.current.style.top.slice(0, -2)\n\t\t))}px`\n\t\tref.current.style.left = `${Math.round(Number(\n\t\t\tcurrentDestLetter.current.style.left.slice(0, -2)\n\t\t))}px`\n\n\t\tswitch (timing) {\n\t\t\tcase 'shuffle':\n\t\t\t\tref.current.style.transition = `top 2.5s ease ${\n\t\t\t\t\t750 * Math.random() + 250\n\t\t\t\t}ms, left 2.5s ease ${750 * Math.random() + 250}ms`\n\t\t\t\tbreak\n\t\t\tcase 'sequence':\n\t\t\t\tref.current.style.transition = `top 1.5s ease ${\n\t\t\t\t\t200 * index\n\t\t\t\t}ms, left 1.5s ease ${200 * index}ms`\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tref.current.style.transition = `top 2.5s ease, left 2.5s ease`\n\t\t\t\tbreak\n\t\t}\n\t})\n}\n\nexport default moveLetters\n","import underlineLetters from './underlineLetters'\nimport highlightLetters from './highlightLetters'\nimport changeColor from './changeColor'\nimport moveLetters from './moveLetters'\n\nconst handleHint = (activeClue, nextHint, showMessage, checkAns, showLogic) => {\n\t\n\tconst hint = activeClue.hints[nextHint]\n\tconst prevHint = activeClue.hints[nextHint - 1]\n\n\t// Run if showing a message & not checking answer\n\tif (showMessage && !checkAns) {\n\n\t\t// Definition\n\t\tif (nextHint === 0) {\n\t\t\tunderlineLetters(hint.ref)\n\n\t\t\t// Indicators\n\t\t} else {\n\t\t\tswitch (hint.category) {\n\t\t\t\tcase 'anagram':\n\t\t\t\tcase 'letter bank':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'ag-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[0].length)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'lb-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[1].length),\n\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[1].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[1].length)\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'charade':\n\t\t\t\tcase 'symbol':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'synonym':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'sy-2':\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'container':\n\t\t\t\t\thighlightLetters(hint.ref)\n\n\t\t\t\t\t// make all previous addLetters gray\n\t\t\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\t\t\t// Break out if container\n\t\t\t\t\t\tif (h.category === 'container') return true\n\n\t\t\t\t\t\tif (h.addLetters) {\n\t\t\t\t\t\t\tchangeColor(h.addLetters.ref.current, '#ccc')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\n\t\t\t\t\t// Make moving letters dark\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'#222'\n\t\t\t\t\t)\n\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\thint.end.value.join('').split('').length\n\t\t\t\t\t\t),\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'dd-2':\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'deletion':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\n\t\t\t\t\t// see if shorter word exists within last hint addLetters\n\t\t\t\t\tconst delIndex = prevHint.addLetters.value\n\t\t\t\t\t\t.join('')\n\t\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t\t.indexOf(hint.end.value[1].toUpperCase())\n\n\t\t\t\t\t// if so, highlight short word in longer\n\t\t\t\t\tif (hint.end.value.length > 2) {\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\thint.end.value[1].length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(-hint.end.value[2].length),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\t\t\t\t\t} else if (delIndex >= 0) {\n\t\t\t\t\t\tchangeColor(\n\t\t\t\t\t\t\tprevHint.addLetters.ref.current.slice(\n\t\t\t\t\t\t\t\tdelIndex,\n\t\t\t\t\t\t\t\tdelIndex + hint.end.value[1].length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'#0b0b0b'\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'delete even':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tconst oddOnly = prevHint.addLetters.ref.current.filter(\n\t\t\t\t\t\t(ltr, index) => index % 2 !== 0\n\t\t\t\t\t)\n\t\t\t\t\tconsole.log(oddOnly)\n\t\t\t\t\tchangeColor(oddOnly, '#ccc')\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'delete odd':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tconst evenOnly = prevHint.addLetters.ref.current.filter(\n\t\t\t\t\t\t(ltr, index) => index % 2 === 0\n\t\t\t\t\t)\n\t\t\t\t\tconsole.log(evenOnly)\n\t\t\t\t\tchangeColor(evenOnly, '#ccc')\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'direct':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hidden word':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hw-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'homophone':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current[0])\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'hp-2':\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current[1])\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'initialism':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'in-2':\n\t\t\t\t\tchangeColor(prevHint.end.ref, '#ccc')\n\t\t\t\t\t// build arrary of first letters\n\t\t\t\t\tlet firstLetters = prevHint.end.value[0]\n\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t.map((wrd) => wrd.length + 1)\n\t\t\t\t\tfirstLetters.pop()\n\t\t\t\t\tfirstLetters = [0, ...firstLetters]\n\n\t\t\t\t\tfirstLetters.forEach((startLetter) => {\n\t\t\t\t\t\tchangeColor(prevHint.end.ref[startLetter])\n\t\t\t\t\t\tprevHint.end.ref.splice(0, startLetter)\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'particle':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'reversal':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\n\t\t\t\t\t// make all previous addLetters gray\n\t\t\t\t\tlet usedAnchor = []\n\t\t\t\t\t// push only used anchor to anchor\n\t\t\t\t\tlet anchor = []\n\t\t\t\t\tactiveClue.hints.some((h) => {\n\t\t\t\t\t\tif (h.category === 'reversal') return true\n\t\t\t\t\t\tif (h.addLetters) {\n\t\t\t\t\t\t\tanchor.push(h)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\t\t\t\t\tanchor = anchor\n\t\t\t\t\t\t.map((h) => h.addLetters.ref.current)\n\t\t\t\t\t\t.flat()\n\t\t\t\t\t\t.reverse()\n\n\t\t\t\t\tlet moving = hint.addLetters.ref.current.slice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\thint.end.value[0].length\n\t\t\t\t\t)\n\t\t\t\t\tmoving = moving.filter((m) => m.current.textContent !== ' ').reverse()\n\n\t\t\t\t\t// Build arr of used anchors\n\t\t\t\t\tmoving.forEach((ref) => {\n\t\t\t\t\t\tconst destIndex = anchor.findIndex(\n\t\t\t\t\t\t\t(destLetter) =>\n\t\t\t\t\t\t\t\tdestLetter.current.textContent === ref.current.textContent\n\t\t\t\t\t\t)\n\t\t\t\t\t\tusedAnchor.push(anchor[destIndex])\n\t\t\t\t\t\tanchor.splice(destIndex, 1)\n\t\t\t\t\t})\n\n\t\t\t\t\tchangeColor(usedAnchor, '#ccc')\n\t\t\t\t\tchangeColor(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\t'#222'\n\t\t\t\t\t)\n\t\t\t\t\tmoveLetters(\n\t\t\t\t\t\thint.addLetters.ref.current.slice(0, hint.end.value[0].length),\n\t\t\t\t\t\thint.addLetters.ref.current.slice(hint.end.value[0].length),\n\t\t\t\t\t\t'sequence',\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'spoonerism':\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.addLetters.ref.current)\n\t\t\t\t\tchangeColor(activeClue.spoon)\n\t\t\t\t\tbreak\n\n\t\t\t\tdefault:\n\t\t\t\t\thighlightLetters(hint.ref)\n\t\t\t\t\tchangeColor(hint.end.ref)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\t// If this is the revealing hint, end clue.\n\t\tif (hint.reveals) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.solution.sectionRef.current.classList.add('hide-input')\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.solution.sectionRef.current.classList.add(\n\t\t\t\t\t\t'reveal-solution'\n\t\t\t\t\t)\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tactiveClue.source.ref.current.classList.add('show')\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}, 2500)\n\t\t}\n\t}\n\n\t// Change last hint to gray when going back to play\n\tif (nextHint > 1 && !showMessage && !checkAns) {\n\t\t\n\t\ttry {\n\t\t\t// Gray out highlighting\n\t\t\thighlightLetters(prevHint.ref, false, true)\n\n\t\t\t// Gray last added letters\n\t\t\tif (prevHint.end) {\n\t\t\t\tchangeColor(prevHint.end.ref, false, true)\n\t\t\t} else {\n\t\t\t\tchangeColor(prevHint.ref, false, true)\n\t\t\t}\n\n\t\t\t// For hints in logic display, keep letters gray instead of resetting to primary\n\t\t\tif (prevHint.category !== 'deletion') {\n\t\t\t\tif (showLogic && (prevHint.category === 'anagram' || prevHint.category === 'letter bank'|| hint.category === 'container')) {\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, '#ccc')\n\t\t\t\t} else {\n\t\t\t\t\tchangeColor(prevHint.addLetters.ref.current, false, true)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchangeColor(activeClue.hints[nextHint - 2].addLetters.ref.current, false, true)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n\n\t// Gray out previous hint's background during showLogic stepping\n\tif (showLogic && nextHint > 1 && showMessage) {\n\t\ttry {\n\t\t\thighlightLetters(prevHint.ref, false, true)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport default handleHint\n","import { useState, useEffect } from 'react'\n\nimport handleHint from './handleHint'\n\nconst useManageClue = (activeClue) => {\n\n\t// state\n\tconst [stats, setStats] = useState({ guesses: 0, hints: 0, how: '' })\n    const [input, setInput] = useState([])\n\tconst [nextHint, setNextHint] = useState(0)\n\tconst [showMessage, setShowMessage] = useState(false)\n\tconst [checkAns, setCheckAns] = useState(false)\n\tconst [showLogic, setShowLogic] = useState(false)\n\tconst [revealedLetters, setRevealedLetters] = useState([]) // Array of indices of revealed letters\n\tconst [showRevealPrompt, setShowRevealPrompt] = useState(false)\n\tconst [revealPromptIndex, setRevealPromptIndex] = useState(null)\n\n\t// handle revealing a letter\n\tconst handleRevealLetter = (index) => {\n\t\t// Don't allow revealing if already revealed\n\t\tif (revealedLetters.includes(index)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow revealing if this would be the last unrevealed letter\n\t\tif (revealedLetters.length >= activeClue.solution.arr.length - 1) {\n\t\t\treturn\n\t\t}\n\n\t\t// Add to revealed letters\n\t\tconst newRevealedLetters = [...revealedLetters, index].sort((a, b) => a - b)\n\t\tsetRevealedLetters(newRevealedLetters)\n\n\t\t// Update input to include the revealed letter\n\t\tsetInput(prevInput => {\n\t\t\tconst newInput = [...prevInput]\n\n\t\t\t// Extend array to include this position, filling gaps\n\t\t\twhile (newInput.length <= index) {\n\t\t\t\tconst currentPos = newInput.length\n\t\t\t\t// If this position is revealed (including the one we just revealed), add the letter\n\t\t\t\tif (newRevealedLetters.includes(currentPos)) {\n\t\t\t\t\tnewInput.push(activeClue.solution.arr[currentPos])\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise add empty string\n\t\t\t\t\tnewInput.push('')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Ensure the revealed position has the correct letter (in case it was wrong)\n\t\t\tnewInput[index] = activeClue.solution.arr[index]\n\n\t\t\treturn newInput\n\t\t})\n\n\t\t// Increment hints counter\n\t\tsetStats(prev => ({ ...prev, hints: prev.hints + 1 }))\n\n\t\t// Close the prompt\n\t\tsetShowRevealPrompt(false)\n\t\tsetRevealPromptIndex(null)\n\t}\n\n\t// handle clicking on a solution square\n\tconst handleSquareClick = (index) => {\n\t\t// Don't allow clicking if already revealed\n\t\tif (revealedLetters.includes(index)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow clicking if this would be the last unrevealed letter\n\t\tif (revealedLetters.length >= activeClue.solution.arr.length - 1) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't allow clicking if message is showing\n\t\tif (showMessage) {\n\t\t\treturn\n\t\t}\n\n\t\t// Show the prompt\n\t\tsetRevealPromptIndex(index)\n\t\tsetShowRevealPrompt(true)\n\t}\n\n    // handle input\n    const handleInput = (press, revealedLettersParam = revealedLetters) => {\n\t\tsetInput((prevInput) => {\n            if (press !== 'del') {\n\t\t\t\t// Find the first empty, non-revealed position\n\t\t\t\tlet insertPos = -1\n\t\t\t\tfor (let i = 0; i < activeClue.solution.arr.length; i++) {\n\t\t\t\t\tif ((!prevInput[i] || prevInput[i] === '') && !revealedLettersParam.includes(i)) {\n\t\t\t\t\t\tinsertPos = i\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we found a position, insert the letter there\n\t\t\t\tif (insertPos >= 0) {\n\t\t\t\t\tconst newInput = [...prevInput]\n\n\t\t\t\t\t// Extend array if needed\n\t\t\t\t\twhile (newInput.length <= insertPos) {\n\t\t\t\t\t\tnewInput.push('')\n\t\t\t\t\t}\n\n\t\t\t\t\tnewInput[insertPos] = press\n\n\t\t\t\t\treturn newInput\n\t\t\t\t}\n\n                return prevInput\n            } else if (press === 'del') {\n\t\t\t\t// Find the last non-revealed, non-empty position to delete from\n\t\t\t\tlet deletePos = -1\n\t\t\t\tfor (let i = prevInput.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (!revealedLettersParam.includes(i) && prevInput[i] && prevInput[i] !== '') {\n\t\t\t\t\t\tdeletePos = i\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we found a position to delete, remove it\n\t\t\t\tif (deletePos >= 0) {\n\t\t\t\t\tconst newInput = [...prevInput]\n\t\t\t\t\tnewInput[deletePos] = ''\n\n\t\t\t\t\t// Trim trailing empty strings, but keep revealed letters\n\t\t\t\t\twhile (newInput.length > 0) {\n\t\t\t\t\t\tconst lastIndex = newInput.length - 1\n\t\t\t\t\t\tif (newInput[lastIndex] === '' && !revealedLettersParam.includes(lastIndex)) {\n\t\t\t\t\t\t\tnewInput.pop()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newInput\n\t\t\t\t}\n\n                return prevInput\n            } else {\n\t\t\t\treturn prevInput\n\t\t\t}\n        })\n    }\n\t\n\t// runs every change of showMessage\n\tuseEffect(() => {\n\t\thandleHint(activeClue, nextHint, showMessage, checkAns, showLogic)\n\t}, [showMessage, activeClue, nextHint, checkAns, showLogic])\n\n\treturn {\n\t\tstats,\n\t\tsetStats,\n\t\tinput,\n\t\tsetInput,\n\t\thandleInput,\n\t\tnextHint,\n\t\tsetNextHint,\n\t\tshowMessage,\n\t\tsetShowMessage,\n\t\tcheckAns,\n\t\tsetCheckAns,\n\t\tshowLogic,\n\t\tsetShowLogic,\n\t\trevealedLetters,\n\t\tsetRevealedLetters,\n\t\tshowRevealPrompt,\n\t\tsetShowRevealPrompt,\n\t\trevealPromptIndex,\n\t\thandleRevealLetter,\n\t\thandleSquareClick\n\t}\n}\n\nexport default useManageClue","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { graphql } from \"gatsby\";\nimport { UserContext } from \"../../utils/UserContext\";\nimport Layout from \"../../components/layout\";\nimport Bottom from \"../../components/Bottom\";\nimport Tooltip from \"../../components/Tooltip\";\nimport prepClue from \"../../utils/clue/usePrepClue\";\nimport manageClue from \"../../utils/clue/useManageClue\";\nimport { isTodayClue } from \"../../utils/dateHelpers\";\n\n// Eye icon components using currentColor to match TopBar icons\nconst EyeOpenIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"text-neutral-500 dark:text-neutral-200\"\n  >\n    <g clipPath=\"url(#clip0_eye_open)\">\n      <path\n        d=\"M0.833984 10.0002C0.833984 10.0002 4.16732 3.3335 10.0007 3.3335C15.834 3.3335 19.1673 10.0002 19.1673 10.0002C19.1673 10.0002 15.834 16.6668 10.0007 16.6668C4.16732 16.6668 0.833984 10.0002 0.833984 10.0002Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M10.0007 12.5002C11.3814 12.5002 12.5007 11.3809 12.5007 10.0002C12.5007 8.61945 11.3814 7.50016 10.0007 7.50016C8.61994 7.50016 7.50065 8.61945 7.50065 10.0002C7.50065 11.3809 8.61994 12.5002 10.0007 12.5002Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_eye_open\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nconst HintIcon = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    style={{ color: \"var(--lc-highlight-text)\" }}\n  >\n    <path\n      d=\"M9 21h6M12 3a6 6 0 0 0-6 6c0 2.22 1.21 4.16 3 5.19V17a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-2.81c1.79-1.03 3-2.97 3-5.19a6 6 0 0 0-6-6z\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst EyeClosedIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"text-neutral-500 dark:text-neutral-200\"\n  >\n    <g clipPath=\"url(#clip0_eye_closed)\">\n      <path\n        d=\"M14.9507 14.9502C13.5261 16.036 11.7916 16.6375 10.0007 16.6668C4.16732 16.6668 0.833984 10.0002 0.833984 10.0002C1.87056 8.06841 3.30826 6.38067 5.05065 5.05016M8.25065 3.5335C8.82426 3.39923 9.41154 3.33211 10.0007 3.3335C15.834 3.3335 19.1673 10.0002 19.1673 10.0002C18.6615 10.9465 18.0582 11.8374 17.3673 12.6585M11.7673 11.7668C11.5384 12.0125 11.2624 12.2095 10.9558 12.3461C10.6491 12.4827 10.3181 12.5562 9.98239 12.5621C9.64672 12.5681 9.31329 12.5063 9.00199 12.3806C8.6907 12.2548 8.40792 12.0677 8.17052 11.8303C7.93313 11.5929 7.74598 11.3101 7.62024 10.9988C7.4945 10.6875 7.43276 10.3541 7.43868 10.0184C7.4446 9.68274 7.51807 9.3517 7.65471 9.04504C7.79135 8.73837 7.98836 8.46237 8.23398 8.2335M0.833984 0.833496L19.1673 19.1668\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_eye_closed\">\n        <rect width=\"20\" height=\"20\" fill=\"white\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nconst CluePage = ({ data }) => {\n  const dataClue = data.cluesJson;\n  const [showDifficultyTooltip, setShowDifficultyTooltip] = useState(false);\n  const [revealPopupPosition, setRevealPopupPosition] = useState(null);\n  const [hintPosition, setHintPosition] = useState(\"right\"); // \"right\" or \"below\"\n  const revealPopupRef = useRef(null);\n\n  // Add fixed-page class to prevent scrolling\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      document.body.classList.add(\"fixed-page\");\n      return () => {\n        document.body.classList.remove(\"fixed-page\");\n      };\n    }\n  }, []);\n\n  // Track when users start today's daily clue\n  useEffect(() => {\n    if (isTodayClue(dataClue) && typeof window.gtag !== \"undefined\") {\n      window.gtag(\"event\", \"started_daily_clue\", {\n        clid: dataClue.clid,\n        difficulty: dataClue.difficulty,\n        streak: streak,\n      });\n    }\n  }, [dataClue.clid, dataClue.release, dataClue.difficulty, streak]);\n\n  // Helper function for difficulty\n  const getDifficultyText = (difficulty) => {\n    switch (Number(difficulty)) {\n      case 1:\n        return \"Easy\";\n      case 2:\n        return \"Moderate\";\n      case 3:\n        return \"Difficult\";\n      case 4:\n        return \"Very Difficult\";\n      default:\n        return \"Easy\";\n    }\n  };\n  const {\n    addCompletedClue,\n    showType,\n    setShowType,\n    returnLearn,\n    setReturnLearn,\n    streak,\n    setCurrentStats,\n  } = useContext(UserContext);\n\n  // Set up activeClue\n  let { activeClue } = prepClue(dataClue);\n  let {\n    stats,\n    setStats,\n    input,\n    setInput,\n    handleInput,\n    nextHint,\n    setNextHint,\n    showMessage,\n    setShowMessage,\n    checkAns,\n    setCheckAns,\n    showLogic,\n    setShowLogic,\n    revealedLetters,\n    showRevealPrompt,\n    setShowRevealPrompt,\n    revealPromptIndex,\n    handleRevealLetter,\n    handleSquareClick,\n  } = manageClue(activeClue);\n\n  // Sync stats to context for TopBar display\n  useEffect(() => {\n    setCurrentStats(stats);\n    return () => setCurrentStats(null);\n  }, [stats, setCurrentStats]);\n\n  // Handle show hint click\n  const handleShowHint = () => {\n    setStats((prevStats) => ({ ...prevStats, hints: prevStats.hints + 1 }));\n    setCheckAns(false);\n    setShowMessage(true);\n  };\n\n  // Determine if hint button should be shown\n  const isLastHint = activeClue.hints[nextHint]?.reveals;\n  const showHintButton = !showMessage && !isLastHint;\n\n  // Calculate hint button position based on available space\n  useEffect(() => {\n    const calculateHintPosition = () => {\n      const solSection = document.getElementById(\"solSectionRef\");\n      if (solSection) {\n        const rect = solSection.getBoundingClientRect();\n        const rightSpace = window.innerWidth - rect.right;\n        // Need at least 60px for the button (40px button + 20px margin)\n        setHintPosition(rightSpace >= 60 ? \"right\" : \"below\");\n      }\n    };\n\n    calculateHintPosition();\n    window.addEventListener(\"resize\", calculateHintPosition);\n    return () => window.removeEventListener(\"resize\", calculateHintPosition);\n  }, []);\n\n  // Calculate popup position when reveal prompt is shown\n  useEffect(() => {\n    if (showRevealPrompt && revealPromptIndex !== null) {\n      const element = document.getElementById(`i${revealPromptIndex}`);\n      if (element) {\n        const rect = element.getBoundingClientRect();\n        setRevealPopupPosition({\n          top: rect.top,\n          left: rect.left + rect.width / 2,\n        });\n      }\n    } else {\n      setRevealPopupPosition(null);\n    }\n  }, [showRevealPrompt, revealPromptIndex]);\n\n  // Close reveal popup when clicking outside\n  useEffect(() => {\n    if (!showRevealPrompt) return;\n\n    const handleClickOutside = (e) => {\n      if (\n        revealPopupRef.current &&\n        !revealPopupRef.current.contains(e.target)\n      ) {\n        setShowRevealPrompt(false);\n      }\n    };\n\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return () =>\n      document.removeEventListener(\"click\", handleClickOutside, true);\n  }, [showRevealPrompt, setShowRevealPrompt]);\n\n  // type HTML\n  const pillList = activeClue.type.map((t, index) => (\n    <li\n      key={`type_${index}`}\n      className=\"type-pill tooltip-parent border border-neutral-400 dark:!border-neutral-500 dark:!text-white\"\n      aria-describedby=\"tooltip-id\"\n    >\n      {t}\n      <Tooltip text={t} />\n    </li>\n  ));\n\n  const typeInsert = showType ? (\n    <>\n      <li className=\"eyecon\">\n        <button aria-label=\"Hide type\" onClick={() => setShowType(false)}>\n          <EyeClosedIcon />\n        </button>\n      </li>\n      {pillList}\n    </>\n  ) : (\n    <>\n      <li className=\"eyecon\">\n        <button onClick={() => setShowType(true)} aria-label=\"Show type\">\n          <EyeOpenIcon />\n        </button>\n      </li>\n      <li className=\"type-text\">\n        <button onClick={() => setShowType(true)} aria-label=\"Expand type\">\n          See type\n        </button>\n      </li>\n    </>\n  );\n\n  // clue HTML\n  const clueInsert = activeClue.clue.arr.map((letter, index) => (\n    <span\n      key={`cluearr_${index}`}\n      ref={activeClue.clue.ref.current[index]}\n      className=\"letter\"\n    >\n      {letter}\n    </span>\n  ));\n\n  // addLetters HTML\n  let addInsert = [];\n  activeClue.hints.forEach((hint, parentIndex) => {\n    if (\n      hint.type === \"indicator\" &&\n      !!hint.addLetters &&\n      !!hint.addLetters.value\n    ) {\n      const lettersInsert = hint.addLetters.value.map((letter, childIndex) => (\n        <span\n          key={`${parentIndex}_${childIndex}`}\n          ref={activeClue.addLetters.ref.current[parentIndex][childIndex]}\n          className=\"letter\"\n        >\n          {letter}\n        </span>\n      ));\n\n      const brCats = [\n        \"container\",\n        \"reversal\",\n        \"ag-2\",\n        \"lb-2\",\n        \"hw-2\",\n        \"spoonerism\",\n      ];\n      const addBr = brCats.includes(hint.category);\n      const br = (\n        <span key={`br_${parentIndex}`} style={{ flexBasis: \"100%\" }}></span>\n      );\n\n      const addSpoon = hint.category === \"spoonerism\";\n      const spoon = (\n        <>\n          <svg\n            key={`svg_${parentIndex}`}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 512 512\"\n            width=\"20px\"\n            height=\"20px\"\n            ref={activeClue.spoon}\n          >\n            <path d=\"M245.8 220.9c-14.5-17.6-21.8-39.2-21.8-60.8C224 80 320 0 416 0c53 0 96 43 96 96c0 96-80 192-160.2 192c-21.6 0-43.2-7.3-60.8-21.8L54.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L245.8 220.9z\" />\n          </svg>\n          <span style={{ flexBasis: \"100%\" }}></span>\n        </>\n      );\n\n      addBr && addInsert.push(br);\n      addSpoon && addInsert.push(spoon);\n      addInsert.push(\n        <span\n          key={`${parentIndex}_word`}\n          ref={hint.addLetters.wordRef}\n          className=\"word\"\n        >\n          {lettersInsert}&nbsp;\n        </span>,\n      );\n    }\n  });\n\n  // Find the first empty, non-revealed position for the cursor\n  const getCursorPosition = () => {\n    for (let i = 0; i < activeClue.solution.arr.length; i++) {\n      if ((!input[i] || input[i] === \"\") && !revealedLetters.includes(i)) {\n        return i;\n      }\n    }\n    return activeClue.solution.arr.length;\n  };\n  const cursorPosition = showMessage ? -1 : getCursorPosition();\n\n  // solution HTML\n  const solInsert = activeClue.solution.arr.map((letter, index) => {\n    const isActive = index === cursorPosition;\n    const isRevealed = revealedLetters.includes(index);\n    const isEmpty = !input[index] || input[index] === \"\";\n    const wouldBeLastLetter =\n      revealedLetters.length >= activeClue.solution.arr.length - 1;\n    const canReveal =\n      isEmpty && !isRevealed && !showMessage && !wouldBeLastLetter;\n\n    let cursor = \"default\";\n\n    if (canReveal) {\n      cursor = \"pointer\";\n    }\n\n    const squareStyle = {\n      borderWidth: \"0.75px\",\n      cursor,\n      pointerEvents: canReveal ? \"auto\" : \"none\",\n      ...(isActive && { backgroundColor: \"var(--lc-active-bg)\" }),\n    };\n\n    return (\n      <span\n        key={`solarr_${index}`}\n        id={`i${index}`}\n        className=\"letter border-neutral-900 dark:!border-white\"\n        style={squareStyle}\n        onClick={() => handleSquareClick(index)}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\" || e.key === \" \") {\n            e.preventDefault();\n            handleSquareClick(index);\n          }\n        }}\n        role={canReveal ? \"button\" : \"presentation\"}\n        tabIndex={canReveal ? 0 : -1}\n        aria-label={canReveal ? `Reveal letter ${index + 1}` : undefined}\n        data-testid={`solution-square-${index}`}\n        data-revealed={isRevealed ? \"true\" : \"false\"}\n      >\n        <span\n          id={`sl${index}`}\n          ref={activeClue.solution.ref.current[index]}\n          className=\"solLetter\"\n        >\n          {letter}\n        </span>\n        <span\n          className=\"typeLetter\"\n          style={isRevealed ? { color: \"var(--lc-highlight-text)\" } : {}}\n        >\n          {input[index]}\n        </span>\n      </span>\n    );\n  });\n\n  // solution length\n  const solLength = (\n    <span\n      id=\"solLengthRef\"\n      ref={activeClue.solution.length.ref}\n      className=\"solution-letters\"\n      data-testid=\"solution-length\"\n    >\n      &nbsp;{activeClue.solution.length.value}\n    </span>\n  );\n\n  // source HTML\n  const sourceInsert = activeClue.source.href ? (\n    <a target=\"_blank\" rel=\"noreferrer\" href={activeClue.source.href}>\n      {activeClue.source.value}\n    </a>\n  ) : (\n    <span>{activeClue.source.value}</span>\n  );\n\n  return (\n    <Layout>\n      <div className=\"clue-page\">\n        <div\n          id=\"clue-container\"\n          className=\"clue lc-container\"\n          data-testid=\"clue-container\"\n        >\n          <ul className=\"type\">{typeInsert}</ul>\n          <div\n            id=\"clueSectionRef\"\n            ref={activeClue.clue.sectionRef}\n            className=\"clue\"\n            data-testid=\"clue-text\"\n          >\n            <div>\n              {clueInsert} {solLength}\n            </div>\n          </div>\n          <div className=\"addLetters\">{addInsert}</div>\n          <div className=\"sol-section\">\n            <div className=\"solution-wrapper\">\n              <div\n                id=\"solSectionRef\"\n                ref={activeClue.solution.sectionRef}\n                className=\"solution\"\n              >\n                {solInsert}\n              </div>\n              {showHintButton && (\n                <button\n                  className={`hint-button hint-${hintPosition}`}\n                  onClick={handleShowHint}\n                  aria-label=\"Show hint\"\n                >\n                  <HintIcon />\n                </button>\n              )}\n            </div>\n            <div id=\"sourceRef\" ref={activeClue.source.ref} className=\"source\">\n              by {sourceInsert}\n            </div>\n          </div>\n          <div className=\"clue-difficulty\">\n            <button\n              className=\"difficulty-button\"\n              aria-label={`Difficulty: ${getDifficultyText(\n                dataClue.difficulty,\n              )}`}\n              onMouseEnter={() => setShowDifficultyTooltip(true)}\n              onMouseLeave={() => setShowDifficultyTooltip(false)}\n              onClick={() => setShowDifficultyTooltip(!showDifficultyTooltip)}\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" || e.key === \" \") {\n                  e.preventDefault();\n                  setShowDifficultyTooltip(!showDifficultyTooltip);\n                }\n              }}\n            >\n              <div\n                className={`difficulty-grid difficulty-${dataClue.difficulty}`}\n                aria-hidden=\"true\"\n              >\n                {[0, 1, 2, 3].map((i) => (\n                  <div\n                    key={i}\n                    className={`difficulty-square ${i < dataClue.difficulty ? \"filled\" : \"\"}`}\n                  />\n                ))}\n              </div>\n            </button>\n            {showDifficultyTooltip && (\n              <div className=\"difficulty-tooltip\">\n                {getDifficultyText(dataClue.difficulty)}\n              </div>\n            )}\n          </div>\n        </div>\n        <Bottom\n          showMessage={showMessage}\n          setShowMessage={setShowMessage}\n          nextHint={nextHint}\n          setNextHint={setNextHint}\n          activeClue={activeClue}\n          addCompletedClue={addCompletedClue}\n          input={input}\n          setInput={setInput}\n          handleInput={handleInput}\n          checkAns={checkAns}\n          setCheckAns={setCheckAns}\n          stats={stats}\n          setStats={setStats}\n          returnLearn={returnLearn}\n          setReturnLearn={setReturnLearn}\n          showLogic={showLogic}\n          setShowLogic={setShowLogic}\n          revealedLetters={revealedLetters}\n        />\n      </div>\n\n      {showRevealPrompt &&\n        revealPromptIndex !== null &&\n        revealPopupPosition && (\n          <div\n            ref={revealPopupRef}\n            className=\"reveal-popup\"\n            style={{\n              position: \"fixed\",\n              top: revealPopupPosition.top - 10,\n              left: revealPopupPosition.left,\n              transform: \"translate(-50%, -100%)\",\n              zIndex: 100,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              padding: \"0.75rem 1rem 0.5rem\",\n            }}\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"reveal-letter-title\"\n          >\n            <p\n              id=\"reveal-letter-title\"\n              style={{ margin: \"0 0 0.5rem 0\", fontSize: \"0.8rem\" }}\n            >\n              Reveal letter?\n            </p>\n            <button\n              className=\"bg-purple-200 dark:!bg-[#4A3F6B] dark:!text-white\"\n              style={{\n                padding: \"0.35rem 0.75rem\",\n                borderRadius: \"50px\",\n                border: \"none\",\n                cursor: \"pointer\",\n                fontSize: \"0.8rem\",\n              }}\n              onClick={() => handleRevealLetter(revealPromptIndex)}\n              data-testid=\"modal-reveal-confirm\"\n            >\n              Reveal\n            </button>\n            <div className=\"popup-arrow\" />\n          </div>\n        )}\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query ($id: String) {\n    cluesJson(id: { eq: $id }) {\n      id\n      clid\n      clue {\n        value\n      }\n      release\n      difficulty\n      dow\n      type\n      definition\n      hints {\n        category\n        value\n        explainer\n        end {\n          value\n        }\n      }\n      solution {\n        value\n      }\n      source {\n        value\n      }\n    }\n  }\n`;\n\nexport default CluePage;\n\nexport const Head = ({ data }) => {\n  const clue = data.cluesJson;\n  const clueDate = new Date(clue.release).toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n\n  return (\n    <>\n      <title>{`Cryptic Clue #${clue.clid} - ${clueDate} | Learn Cryptic`}</title>\n      <meta\n        name=\"description\"\n        content={`Solve today's cryptic crossword clue: \"${clue.clue.value}\". Interactive hints and explanations to help you learn cryptic crossword techniques.`}\n      />\n      <link\n        rel=\"canonical\"\n        href={`https://learncryptic.com/clues/${clue.clid}`}\n      />\n      <script type=\"application/ld+json\">\n        {JSON.stringify({\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"Question\",\n          name: `Cryptic Clue #${clue.clid}`,\n          text: clue.clue.value,\n          datePublished: clue.release,\n          author: {\n            \"@type\": \"Organization\",\n            name: \"Learn Cryptic\",\n          },\n          acceptedAnswer: {\n            \"@type\": \"Answer\",\n            text: clue.solution.value,\n          },\n          difficulty: clue.difficulty,\n          about: {\n            \"@type\": \"Thing\",\n            name: \"Cryptic Crossword\",\n            description:\n              \"A type of crossword puzzle where each clue is a word puzzle in itself\",\n          },\n        })}\n      </script>\n    </>\n  );\n};\n"],"names":["InfoIcon","React","width","height","viewBox","fill","xmlns","className","cx","cy","r","stroke","strokeWidth","d","BarGraphIcon","x","y","rx","ListIcon","Modal","_ref","open","onClose","children","useEffect","preventDefault","e","document","addEventListener","passive","removeEventListener","onClick","stopPropagation","_useContext","useContext","UserContext","setReturnLearn","_useContext$completed","completedClues","_useContext$streak","streak","_useContext$longestSt","longestStreak","darkMode","setDarkMode","currentStats","_useState2","_slicedToArray","useState","helpOpen","setHelpOpen","_useState4","statsOpen","setStatsOpen","_useState6","showCurrentStatsTooltip","setShowCurrentStatsTooltip","totalSolved","length","avgGuesses","reduce","sum","c","guesses","toFixed","avgHints","hints","Link","to","onMouseEnter","onMouseLeave","role","tabIndex","onKeyDown","key","src","logo","alt","id","type","name","checked","onChange","concat","href","pathname","useLocation","window","scrollTo","documentElement","scrollTop","body","ScrollToTop","TopBar","btnInfo","_btnInfo$path","path","style","_btnInfo$img","img","_btnInfo$disabled","disabled","darkModeClasses","getDarkModeClasses","toLowerCase","undefined","btnArr","isSolution","_ref$stack","stack","buttons","map","index","Button","handleInput","onEnter","canCheckAnswer","handleKeyDown","test","toUpperCase","particles","setParticles","origin","setOrigin","solBox","getElementById","rect","getBoundingClientRect","centerX","left","innerWidth","centerY","top","innerHeight","viewportWidth","velocityScale","newParticles","Array","from","_","i","angleRad","Math","random","PI","velocity","endX","cos","verticalScale","burstY","sin","gravity","delay","duration","size","color","rotation","timeout","setTimeout","clearTimeout","particle","animationDelay","animationDuration","hint","aAn","category","slice","includes","value","end","messageButton","activeClue","nextHint","input","checkAns","isCorrectAns","returnLearn","showLogic","msgContainer","setShowLogic","useRef","message","join","getMessage","explainer","isTodayClue","date1","Date","release","date2","d1","getFullYear","getMonth","getDate","d2","getTime","checkIsTodayClue","endClueShowLogic","shareScore","endClueHint","endClueGuess","reveals","nextLogic","messageStyle","ref","Celebration","ButtonContainer","t","Symbol","n","iterator","o","toStringTag","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","G","v","a","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","setNextHint","setInput","setShowMessage","stats","setStats","addCompletedClue","setCheckAns","_callee","date","dateFormatted","perfectEmojis","emoji","scoreText","_t","_t2","_context","Intl","DateTimeFormat","month","day","year","format","floor","clid","trim","navigator","userAgent","share","title","text","console","log","error","alert","clipboard","writeText","arguments","apply","_next","_throw","showHint","prevStats","_objectSpread","revealSolution","checkAnswer","_activeClue$source","_activeClue$source$re","solution","arr","source","current","classList","add","continue","how","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","_activeClue$hints$sta","startHint","_activeClue$hints$nex","next","allPositionsFilled","every","showMessage","revealedLetters","_prepBottom","prepBottom","Message","Keyboard","matchType","useStaticQuery","allTypeJson","nodes","find","description","example","letters","isArray","targetLettersStart","strSlice","freshValue","clue","replace","freshValueIndex","indexOf","targetLettersStartArr","val","clueLetters","forEach","push","_toConsumableArray","h","addLetters","charArr","specialChar","split","filter","char","textContent","positionLetters","anchor","fix","moving","anchorUsed","position","currentDestLetter","destLetter","removeAnchor","round","Number","endPt","prevHint","solIndex","removeSpecial","prevHints","skipCats","rightValue","possibleSplits","anchorSplit","hIndex","foundSplit","joinIndex","indicatorMatch","logSplits","doubleHints","splice","anchorOther","hend","_hint$fix$anchorOther","thisMatch","_hint$fix$anchorOther2","movingLStart","movingLLength","movingRStart","movingRLength","movingSplit","movingOther","some","flat","reverse","wordWidth","total","ltr","word","dataClue","structuredClone","getSolutionLetters","creator","creators","nom","link","flatMap","obj","unshift","definition","createRef","sectionRef","spoon","getTargetLetters","requestAnimationFrame","fixList","fixLetters","defintionLettersRef","indicatedLettersRef","recheck","getCSSVariable","variable","getComputedStyle","getPropertyValue","backgroundColor","getBackgroundColor","toChange","getColor","opacity","movingLettersRef","destLettersRef","timing","destIndex","findIndex","textTransform","transition","underlineLetters","highlightLetters","changeColor","moveLetters","delIndex","oddOnly","evenOnly","firstLetters","wrd","pop","startLetter","usedAnchor","err","_useState8","_useState0","_useState10","_useState12","setRevealedLetters","_useState14","showRevealPrompt","setShowRevealPrompt","_useState16","revealPromptIndex","setRevealPromptIndex","handleHint","press","revealedLettersParam","prevInput","insertPos","newInput","deletePos","lastIndex","handleRevealLetter","newRevealedLetters","sort","b","currentPos","prev","handleSquareClick","EyeOpenIcon","clipPath","HintIcon","EyeClosedIcon","data","cluesJson","showDifficultyTooltip","setShowDifficultyTooltip","revealPopupPosition","setRevealPopupPosition","hintPosition","setHintPosition","revealPopupRef","remove","gtag","difficulty","getDifficultyText","showType","setShowType","setCurrentStats","prepClue","_manageClue","manageClue","isLastHint","showHintButton","calculateHintPosition","solSection","rightSpace","right","element","handleClickOutside","contains","target","pillList","Tooltip","typeInsert","clueInsert","letter","addInsert","parentIndex","lettersInsert","childIndex","addBr","br","flexBasis","addSpoon","wordRef","cursorPosition","getCursorPosition","solInsert","isActive","isRevealed","isEmpty","wouldBeLastLetter","canReveal","cursor","squareStyle","borderWidth","pointerEvents","solLength","sourceInsert","rel","Layout","Bottom","transform","zIndex","display","flexDirection","alignItems","padding","margin","fontSize","borderRadius","border","Head","_ref2","clueDate","toLocaleDateString","content","JSON","stringify","datePublished","author","acceptedAnswer","about"],"sourceRoot":""}